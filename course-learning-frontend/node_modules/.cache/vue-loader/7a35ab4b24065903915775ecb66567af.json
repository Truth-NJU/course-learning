{"remainingRequest":"/Users/taozehua/Downloads/软工2大作业/course-learning-frontend/node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!/Users/taozehua/Downloads/软工2大作业/course-learning-frontend/src/components/CourseItem.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/taozehua/Downloads/软工2大作业/course-learning-frontend/src/components/CourseItem.vue","mtime":1625946131162},{"path":"/Users/taozehua/Downloads/软工2大作业/course-learning-frontend/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/taozehua/Downloads/软工2大作业/course-learning-frontend/node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKaW1wb3J0IFZ1ZSBmcm9tICJ2dWUiOwoKZXhwb3J0IGRlZmF1bHQgVnVlLmV4dGVuZCh7CiAgbmFtZTogIkNvdXJzZUl0ZW0iLAogIHByb3BzOiB7CiAgICBjb3Vyc2VOYW1lOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogIlN1YmplY3ROYW1lIgogICAgfSwKICAgIGNvdXJzZUlkOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMAogICAgfSwKICAgIGRlc2NyaXB0aW9uOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogIuivvueoi+eugOS7iyIKICAgIH0sCiAgICB0eXBlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogIuWInee6pyIKICAgIH0sCiAgICBjb3N0OiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMAogICAgfSwKICAgIGJvdWdodDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIHJlbnRlZDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIHJlbnRFbmRUaW1lOiB7CiAgICAgIHR5cGU6IERhdGUsCiAgICAgIGRlZmF1bHQ6IG5ldyBEYXRlKCkKICAgIH0sCiAgICBtYW5hZ2VhYmxlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgaGFzTG9naW46IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIGNvdXJzZUNvbG9yOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogIiNCQ0FBQTQiCiAgICB9LAogICAgY291cnNlTGlrZXM6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAwCiAgICB9LAogICAgbGlrZWQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjaGlwOiBbIuWFjei0uSIsICLlt7LotK0iLCAi5bey56efIiwgInZpcCJdLAogICAgICBjaGlwQ29sb3I6IFsic3VjY2VzcyIsICJwcmltYXJ5Il0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICByZW50Q291cnNlKCkgewogICAgICB0aGlzLiRlbWl0KCJyZW50LWNvdXJzZSIsIHRoaXMuY291cnNlSWQsIHRoaXMuY291cnNlTmFtZSwgdGhpcy5jb3N0LCB0aGlzLnJlbnRlZCwgdGhpcy5yZW50RW5kVGltZSkKICAgIH0sCiAgICBidXlDb3Vyc2UoKSB7CiAgICAgIHRoaXMuJGVtaXQoImJ1eS1jb3Vyc2UiLCB0aGlzLmNvdXJzZUlkLCB0aGlzLmNvdXJzZU5hbWUsIHRoaXMuY29zdCk7CiAgICB9LAogICAgaGFuZGxlU3R1ZHkoKSB7CiAgICAgIGlmICh0aGlzLmhhc0xvZ2luKSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goYC9zdHVkZW50L2NvdXJzZS8ke3RoaXMuY291cnNlSWR9YCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kZW1pdCgiYnV5LWNvdXJzZSIsIHRoaXMuY291cnNlSWQsIHRoaXMuY291cnNlTmFtZSwgdGhpcy5jb3N0KTsKICAgICAgfQogICAgfSwKCiAgICBoYW5kbGVQZWVrKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaChgL3N0dWRlbnQvcGVlay8ke3RoaXMuY291cnNlSWR9YCk7CiAgICB9LAogICAgaGFuZGxlTGlrZSgpIHsKICAgICAgdGhpcy4kZW1pdCgic2V0LWxpa2UiLCB0aGlzLmNvdXJzZUlkKTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICB0ZXh0OiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzLmRlc2NyaXB0aW9uLmxlbmd0aCA8IDYwCiAgICAgICAgICA/IHRoaXMuZGVzY3JpcHRpb24KICAgICAgICAgIDogdGhpcy5kZXNjcmlwdGlvbi5zdWJzdHJpbmcoMCwgNjApICsgIi4uLiI7CiAgICB9LAoKICAgIC8vIDAg5YWN6LS5ICAxIOW3sui0rSAgIDLlt7Lnp58KICAgIHN0YXR1czogZnVuY3Rpb24gKCkgewogICAgICBpZiAodGhpcy5jb3N0ID09PSAwKSB7CiAgICAgICAgcmV0dXJuIDA7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5ib3VnaHQpIHsKICAgICAgICByZXR1cm4gMTsKICAgICAgfSBlbHNlIGlmICh0aGlzLnJlbnRlZCkgewogICAgICAgIHJldHVybiAyOwogICAgICB9IGVsc2UgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VySXNWaXAiKSA9PT0gIjEiKSB7CiAgICAgICAgcmV0dXJuIDM7CiAgICAgIH0KICAgICAgcmV0dXJuIC0xOwogICAgfQogIH0KfSk7Cg=="},{"version":3,"sources":["CourseItem.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CourseItem.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-card :color=\"courseColor\" dark width=\"380\" height=\"260\" class=\"ma-4 pa-2\">\n    <v-card-title class=\"headline\">\n      {{ courseName }}\n      <v-chip\n          small\n          class=\"ml-4\"\n          v-show=\"status === 1 || status === 0|| status===2||status===3\"\n          :color=\"chipColor[status]\"\n      >\n        {{ chip[status] }}\n      </v-chip>\n    </v-card-title>\n\n    <v-card-text class=\"text\">\n      【{{ type }}课程】\n      {{ text }}\n    </v-card-text>\n\n    <v-card-actions>\n      <v-btn text v-show=\"status === 0 || status === 1 || status===2||status===3\" @click=\"handleStudy\">学习课程</v-btn>\n      <v-btn text v-show=\"status === -1 || !hasLogin\" @click=\"handlePeek\">浏览课程</v-btn>\n      <v-btn text v-show=\"status === -1 || (status === 0 && !bought)\" @click=\"buyCourse\">\n        {{ cost === 0 ? \"免费购买\" : \"购买课程\" }}\n      </v-btn>\n      <v-btn text v-show=\"status === -1 || status === 2\" @click=\"rentCourse\"\n      >{{ rented === true ? \"续租\" + rentEndTime : \"租用课程\" }}\n      </v-btn>\n    </v-card-actions>\n    <v-row justify=\"end\" class=\"pr-5\">\n      <v-btn\n          class=\"mx-2 align-self-center\"\n          fab\n          dark\n          small\n          :color=\"!liked ? 'red' : 'black'\"\n          @click=\"handleLike\"\n      >\n        <v-icon v-if=\"liked\" dark>\n          mdi-thumb-down\n        </v-icon>\n        <v-icon dark v-else>\n          mdi-heart\n        </v-icon>\n      </v-btn>\n      <span class=\"align-self-center\">点赞： {{ courseLikes }}</span>\n    </v-row>\n  </v-card>\n</template>\n\n<script lang=\"ts\">\nimport Vue from \"vue\";\n\nexport default Vue.extend({\n  name: \"CourseItem\",\n  props: {\n    courseName: {\n      type: String,\n      default: \"SubjectName\"\n    },\n    courseId: {\n      type: Number,\n      default: 0\n    },\n    description: {\n      type: String,\n      default: \"课程简介\"\n    },\n    type: {\n      type: String,\n      default: \"初级\"\n    },\n    cost: {\n      type: Number,\n      default: 0\n    },\n    bought: {\n      type: Boolean,\n      default: false\n    },\n    rented: {\n      type: Boolean,\n      default: false\n    },\n    rentEndTime: {\n      type: Date,\n      default: new Date()\n    },\n    manageable: {\n      type: Boolean,\n      default: false\n    },\n    hasLogin: {\n      type: Boolean,\n      default: true\n    },\n    courseColor: {\n      type: String,\n      default: \"#BCAAA4\"\n    },\n    courseLikes: {\n      type: Number,\n      default: 0\n    },\n    liked: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      chip: [\"免费\", \"已购\", \"已租\", \"vip\"],\n      chipColor: [\"success\", \"primary\"]\n    };\n  },\n  methods: {\n    rentCourse() {\n      this.$emit(\"rent-course\", this.courseId, this.courseName, this.cost, this.rented, this.rentEndTime)\n    },\n    buyCourse() {\n      this.$emit(\"buy-course\", this.courseId, this.courseName, this.cost);\n    },\n    handleStudy() {\n      if (this.hasLogin) {\n        this.$router.push(`/student/course/${this.courseId}`);\n      } else {\n        this.$emit(\"buy-course\", this.courseId, this.courseName, this.cost);\n      }\n    },\n\n    handlePeek() {\n      this.$router.push(`/student/peek/${this.courseId}`);\n    },\n    handleLike() {\n      this.$emit(\"set-like\", this.courseId);\n    }\n  },\n  computed: {\n    text: function () {\n      return this.description.length < 60\n          ? this.description\n          : this.description.substring(0, 60) + \"...\";\n    },\n\n    // 0 免费  1 已购   2已租\n    status: function () {\n      if (this.cost === 0) {\n        return 0;\n      } else if (this.bought) {\n        return 1;\n      } else if (this.rented) {\n        return 2;\n      } else if (localStorage.getItem(\"userIsVip\") === \"1\") {\n        return 3;\n      }\n      return -1;\n    }\n  }\n});\n</script>\n\n<style scoped>\n.text {\n  height: 85px;\n  overflow: hidden;\n}\n</style>\n"]}]}