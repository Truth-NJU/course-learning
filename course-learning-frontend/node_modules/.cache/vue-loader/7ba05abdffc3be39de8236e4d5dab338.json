{"remainingRequest":"/Users/taozehua/Downloads/软工2大作业/course-learning-frontend/node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!/Users/taozehua/Downloads/软工2大作业/course-learning-frontend/src/views/student/CourseList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/taozehua/Downloads/软工2大作业/course-learning-frontend/src/views/student/CourseList.vue","mtime":1625946131163},{"path":"/Users/taozehua/Downloads/软工2大作业/course-learning-frontend/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/taozehua/Downloads/软工2大作业/course-learning-frontend/node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/taozehua/Downloads/软工2大作业/course-learning-frontend/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/taozehua/Downloads/软工2大作业/course-learning-frontend/node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBDb3Vyc2VJdGVtIGZyb20gIkAvY29tcG9uZW50cy9Db3Vyc2VJdGVtLnZ1ZSI7CmltcG9ydCB7CiAgZ2V0Q291cnNlc0J5VHlwZSwKICBnZXRDb3Vyc2VzQnlLZXksCiAgZ2V0Qm91Z2h0Q291cnNlcywKICBnZXRIb3RDb3Vyc2VzLAogIHNldENvdXJzZUxpa2UsCiAgZ2V0Q291cnNlQnlJZCwKICBzZXRDb3Vyc2VEaXNsaWtlCn0gZnJvbSAiQC9hcGkvY291cnNlIjsKaW1wb3J0IHsKICBjYW5jZWxDb3Vwb24sCiAgY3JlYXRlT3JkZXIsIGNyZWF0ZVJlbnRPcmRlciwKICBnZXRPcmRlckJ5SWQsCiAgcGF5T3JkZXIsCiAgdXNlQ291cG9uCn0gZnJvbSAiQC9hcGkvb3JkZXIiOwppbXBvcnQge2dldEF2YWlsYWJsZUNvdXBvbnNGb3JPcmRlcn0gZnJvbSAiQC9hcGkvY291cG9uIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiU3R1ZGVudENvdXJzZUxpc3QiLAoKICBjb21wb25lbnRzOiB7CiAgICBDb3Vyc2VJdGVtCiAgfSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRpYWxvZzogZmFsc2UsCiAgICAgIGRpYWxvZzI6IGZhbHNlLAogICAgICBkaWFsb2dSZW50OiBmYWxzZSwKICAgICAgZGlhbG9nUmVudFBheTogZmFsc2UsCiAgICAgIHJlbnRUaW1lOiAwLAogICAgICByZW50T3JkZXJDcmVhdGVkOiBmYWxzZSwKICAgICAgbXNnOiAiIiwKICAgICAgY3VycmVudENvdXJzZUlkOiAwLAogICAgICBjdXJyZW50Q291cnNlTmFtZTogIiIsCiAgICAgIGN1cnJlbnRDb3Vyc2VQcmljZTogMCwKICAgICAgY3VycmVudENvdXJzZVJlbnRlZDogZmFsc2UsCiAgICAgIGN1cnJlbnRDb3Vyc2VSZW50RW5kVGltZTogIiIsCiAgICAgIGNvbG9yTGlzdDogWyIjMjZBNjlBIiwgIiMwMEIwRkYiLCAiIzVDNkJDMCIsICIjRkZCMzAwIiwgIiNFNTczNzMiXSwKICAgICAgY3VycmVudFRhYjogMCwgLy8gMCAxIDIKICAgICAgcHJpbWFyeTogewogICAgICAgIG5hbWU6ICLliJ3nuqciLAogICAgICAgIHRvdGFsUGFnZTogMSwKICAgICAgICBjdXJyZW50UGFnZTogMSwKICAgICAgICBsaXN0OiBbXQogICAgICB9LAogICAgICBtZWRpdW06IHsKICAgICAgICBuYW1lOiAi5Lit57qnIiwKICAgICAgICB0b3RhbFBhZ2U6IDEsCiAgICAgICAgY3VycmVudFBhZ2U6IDEsCiAgICAgICAgbGlzdDogW10KICAgICAgfSwKICAgICAgYWR2YW5jZWQ6IHsKICAgICAgICBuYW1lOiAi6auY57qnIiwKICAgICAgICB0b3RhbFBhZ2U6IDEsCiAgICAgICAgY3VycmVudFBhZ2U6IDEsCiAgICAgICAgbGlzdDogW10KICAgICAgfSwKICAgICAgc2VhcmNoVGV4dDogIiIsCiAgICAgIHNlYXJjaENvdXJzZTogW10sCiAgICAgIHNlYXJjaFRvdGFsUGFnZTogMSwKICAgICAgc2VhcmNoQ3VycmVudFBhZ2U6IDEsCiAgICAgIC8vCiAgICAgIGJvdWdodENvdXJzZXNMaXN0OiBbXSwKICAgICAgaG90Q291cnNlTGlzdDogW10sCiAgICAgIHNob3dTbmFja0JhcjogZmFsc2UsCiAgICAgIHNuYWNrQmFyTXNnOiAiIiwKICAgICAgc25hY2tCYXJDb2xvcjogInN1Y2Nlc3MiLAogICAgICBjb3Vwb25IZWFkZXJzOiBbCiAgICAgICAgewogICAgICAgICAgdGV4dDogIuS8mOaDoOWIuOWQjeensCIsCiAgICAgICAgICB2YWx1ZTogIm5hbWUiCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0ZXh0OiAi5LyY5oOg5Yi457G75Z6LIiwKICAgICAgICAgIHZhbHVlOiAidHlwZSIKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHRleHQ6ICLkvJjmg6DliLjmj4/ov7AiLAogICAgICAgICAgdmFsdWU6ICJkZXNjcmlwdGlvbiIKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHRleHQ6ICLlhYPmlbDmja4iLAogICAgICAgICAgdmFsdWU6ICJtZXRhZGF0YSIKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHRleHQ6ICLkuI7lhbbku5bkvJjmg6DliLjlkIzml7bkvb/nlKgiLAogICAgICAgICAgdmFsdWU6ICJzaGFyYWJsZSIKICAgICAgICB9CiAgICAgIF0sCiAgICAgIGNvdXBvbnM6IFtdLAogICAgICBzZWxlY3RlZENvdXBvbnM6IFtdLAogICAgICBzZXR0bGVEaWFsb2c6IGZhbHNlLAogICAgICBjdXJyZW50T3JkZXI6IHt9CiAgICB9OwogIH0sCgogIGNvbXB1dGVkOiB7CiAgICByZW50TW9uZXk6IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIE1hdGguZmxvb3IodGhpcy5jdXJyZW50Q291cnNlUHJpY2UgKiAoMTgwIC0gdGhpcy5yZW50VGltZSkgLyAxODAgKiB0aGlzLnJlbnRUaW1lIC8gNDUpOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgICJwcmltYXJ5LmN1cnJlbnRQYWdlIjogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiAodmFsKSB7CiAgICAgICAgdGhpcy5oYW5kbGVHZXRDb3Vyc2VzQnlUeXBlKHZhbCwgInByaW1hcnkiKTsKICAgICAgfQogICAgfSwKCiAgICAibWVkaXVtLmN1cnJlbnRQYWdlIjogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiAodmFsKSB7CiAgICAgICAgdGhpcy5oYW5kbGVHZXRDb3Vyc2VzQnlUeXBlKHZhbCwgIm1lZGl1bSIpOwogICAgICB9CiAgICB9LAoKICAgICJhZHZhbmNlLmN1cnJlbnRQYWdlIjogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiAodmFsKSB7CiAgICAgICAgdGhpcy5oYW5kbGVHZXRDb3Vyc2VzQnlUeXBlKHZhbCwgImFkdmFuY2VkIik7CiAgICAgIH0KICAgIH0sCgogICAgc2VhcmNoQ3VycmVudFBhZ2U6IGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5oYW5kbGVTZWFyY2hDb3Vyc2UoKTsKICAgIH0sCgogICAgc2VhcmNoVGV4dDogZnVuY3Rpb24gKCkgewogICAgICB0aGlzLmhhbmRsZVNlYXJjaENvdXJzZSgpOwogICAgfQogIH0sCgogIG1ldGhvZHM6IHsKICAgIC8qKgogICAgICogMS7kuqfnlJ/orqLljZXvvIzlj5HpgIHor7fmsYIKICAgICAqIDIu5YWB6K645LuY5qy+CiAgICAgKi8KICAgIGFzeW5jIGNyZWF0ZVJlbnRPcmRlcigpIHsKICAgICAgY29uc3QgdWlkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VySWQiKTsKICAgICAgYXdhaXQgY3JlYXRlUmVudE9yZGVyKHVpZCwgdGhpcy5jdXJyZW50Q291cnNlSWQsIHRoaXMucmVudFRpbWUpLnRoZW4ocmVzID0+IHsKICAgICAgICBpZiAocmVzLmNvZGUgPT09IDApIHsKICAgICAgICAgIHRoaXMuc25hY2tCYXJDb2xvciA9ICJlcnJvciI7CiAgICAgICAgICB0aGlzLnNuYWNrQmFyTXNnID0gcmVzLm1zZzsKICAgICAgICAgIHRoaXMuc2hvd1NuYWNrQmFyID0gdHJ1ZTsKICAgICAgICAgIHRoaXMuZGlhbG9nID0gZmFsc2U7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuY3VycmVudE9yZGVyID0gcmVzLmRhdGEKICAgICAgICB9CiAgICAgIH0pCiAgICAgIHRoaXMucmVudE9yZGVyQ3JlYXRlZCA9IHRydWUKICAgIH0sCiAgICAvKioKICAgICAqIDEu5pSv5LuY5Yia5Yia55Sf5oiQ55qE56ef55So6K6i5Y2VCiAgICAgKiAyLuS4jeWFgeiuuOS7mOasvgogICAgICogMy7lpoLmnpzkuI3lpJ/mlK/ku5jvvIzmiqXplJkKICAgICAqLwogICAgcGF5UmVudE9yZGVyKCkgewogICAgICB0aGlzLnJlbnRPcmRlckNyZWF0ZWQgPSBmYWxzZQogICAgICB0aGlzLmRpYWxvZ1JlbnRQYXkgPSBmYWxzZQogICAgICBwYXlPcmRlcih0aGlzLmN1cnJlbnRPcmRlci5pZCkudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMuY29kZSA9PT0gMCkgewogICAgICAgICAgdGhpcy5zbmFja0JhckNvbG9yID0gImVycm9yIjsKICAgICAgICAgIHRoaXMuc25hY2tCYXJNc2cgPSByZXMubXNnOwogICAgICAgICAgdGhpcy5zaG93U25hY2tCYXIgPSB0cnVlOwogICAgICAgICAgdGhpcy5kaWFsb2cgPSBmYWxzZTsKICAgICAgICAgIHJldHVybgogICAgICAgIH0KICAgICAgICB0aGlzLnNuYWNrQmFyQ29sb3IgPSAic3VjY2VzcyI7CiAgICAgICAgdGhpcy5zbmFja0Jhck1zZyA9IHJlcy5tc2c7CiAgICAgICAgdGhpcy5zaG93U25hY2tCYXIgPSB0cnVlOwogICAgICB9KTsKICAgIH0sCiAgICAvKioKICAgICAqIOaJk+W8gOenn+eUqOmAieaLqeaXtumXtOeahOWvueivneahhgogICAgICovCiAgICBvcGVuUmVudFBheURpYWxvZygpIHsKICAgICAgdGhpcy5kaWFsb2dSZW50ID0gZmFsc2U7CiAgICAgIHRoaXMuZGlhbG9nUmVudFBheSA9IHRydWU7CiAgICB9LAoKICAgIHNob3dSZW50KGNvdXJzZUlkLCBjb3Vyc2VOYW1lLCBjb3Vyc2VQcmljZSwgY291cnNlUmVudCwgY291cnNlUmVudEVuZFRpbWUpIHsKICAgICAgdGhpcy5jdXJyZW50Q291cnNlSWQgPSBjb3Vyc2VJZDsKICAgICAgdGhpcy5jdXJyZW50Q291cnNlTmFtZSA9IGNvdXJzZU5hbWU7CiAgICAgIHRoaXMuY3VycmVudENvdXJzZVByaWNlID0gY291cnNlUHJpY2U7CiAgICAgIHRoaXMuY3VycmVudENvdXJzZVJlbnRlZCA9IGNvdXJzZVJlbnQ7CiAgICAgIHRoaXMuY3VycmVudENvdXJzZVJlbnRFbmRUaW1lID0gY291cnNlUmVudEVuZFRpbWU7CiAgICAgIHRoaXMuZGlhbG9nUmVudCA9IHRydWU7CiAgICB9LAoKICAgIHNob3dEaWFsb2coY291cnNlSWQsIGNvdXJzZU5hbWUsIGNvdXJzZVByaWNlKSB7CiAgICAgIHRoaXMuY3VycmVudENvdXJzZUlkID0gY291cnNlSWQ7CiAgICAgIHRoaXMuY3VycmVudENvdXJzZU5hbWUgPSBjb3Vyc2VOYW1lOwogICAgICB0aGlzLmN1cnJlbnRDb3Vyc2VQcmljZSA9IGNvdXJzZVByaWNlOwogICAgICB0aGlzLmRpYWxvZyA9IHRydWU7CiAgICB9LAogICAgb3BlblNldHRsZURpYWxvZygpIHsKICAgICAgY29uc3QgdWlkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VySWQiKTsKICAgICAgY3JlYXRlT3JkZXIodWlkLCB0aGlzLmN1cnJlbnRDb3Vyc2VJZCkudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMuY29kZSA9PT0gMCkgewogICAgICAgICAgdGhpcy5zbmFja0JhckNvbG9yID0gImVycm9yIjsKICAgICAgICAgIHRoaXMuc25hY2tCYXJNc2cgPSByZXMubXNnOwogICAgICAgICAgdGhpcy5zaG93U25hY2tCYXIgPSB0cnVlOwogICAgICAgICAgdGhpcy5kaWFsb2cgPSBmYWxzZTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHRoaXMuZGlhbG9nID0gZmFsc2U7CiAgICAgICAgdGhpcy5zZXR0bGVEaWFsb2cgPSB0cnVlOwogICAgICAgIHRoaXMuY3VycmVudE9yZGVyID0gcmVzLmRhdGE7CgogICAgICAgIGdldEF2YWlsYWJsZUNvdXBvbnNGb3JPcmRlcih0aGlzLmN1cnJlbnRPcmRlci5pZCkudGhlbihyZXMgPT4gewogICAgICAgICAgdGhpcy5zZWxlY3RlZENvdXBvbnMgPSB0aGlzLmN1cnJlbnRPcmRlci51c2VkQ291cG9ucwogICAgICAgICAgICAgID8gdGhpcy5jdXJyZW50T3JkZXIudXNlZENvdXBvbnMKICAgICAgICAgICAgICA6IFtdOwoKICAgICAgICAgIHRoaXMuY291cG9ucyA9IFsuLi5yZXMuZGF0YSwgLi4udGhpcy5zZWxlY3RlZENvdXBvbnNdOyAvLyDlsIblvZPliY3lj6/nlKjnmoQg5ZKMIOW3sue7j+eUqOeahCDlkIjlubbotbfmnaXlsZXnpLrvvIzoi6XkuYvliY3liJvlu7rov4forqLljZXmsqHmnInku5jmrL7vvIzlho3mrKHov5vlhaXml7bpnIDopoHov5nmoLcKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlR2V0Q291cnNlc0J5VHlwZShwYWdlLCB0eXBlKSB7CiAgICAgIGNvbnN0IHVpZCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlcklkIik7CiAgICAgIGNvbnN0IHR5cGVNYXAgPSB7cHJpbWFyeTogIuWInee6pyIsIG1lZGl1bTogIuS4ree6pyIsIGFkdmFuY2VkOiAi6auY57qnIn07CiAgICAgIGdldENvdXJzZXNCeVR5cGUoe3VpZCwgdHlwZTogdHlwZU1hcFt0eXBlXSwgcGFnZX0pLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzW3R5cGVdLnRvdGFsUGFnZSA9IHJlcy5wYWdlczsKICAgICAgICB0aGlzW3R5cGVdLmxpc3QgPSByZXMubGlzdDsKICAgICAgfSk7CiAgICB9LAoKICAgIGhhbmRsZVNlYXJjaENvdXJzZSgpIHsKICAgICAgY29uc3QgdWlkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VySWQiKTsKICAgICAgZ2V0Q291cnNlc0J5S2V5KHsKICAgICAgICB1aWQsCiAgICAgICAga2V5OiB0aGlzLnNlYXJjaFRleHQsCiAgICAgICAgcGFnZTogdGhpcy5zZWFyY2hDdXJyZW50UGFnZQogICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy5zZWFyY2hDb3Vyc2UgPSByZXMubGlzdDsKICAgICAgICB0aGlzLnNlYXJjaFRvdGFsUGFnZSA9IHJlcy5wYWdlczsKICAgICAgfSk7CiAgICB9LAoKICAgIGhhbmRsZUhvdENvdXJzZSgpIHsKICAgICAgY29uc3QgdWlkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VySWQiKTsKICAgICAgZ2V0SG90Q291cnNlcyh1aWQpLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLmhvdENvdXJzZUxpc3QgPSByZXMubGlzdDsKICAgICAgfSk7CiAgICB9LAoKICAgIGdldFVzZXJCb3VnaHRDb3Vyc2VzKCkgewogICAgICBjb25zdCB1aWQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXJJZCIpOwogICAgICBnZXRCb3VnaHRDb3Vyc2VzKHVpZCkudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMuYm91Z2h0Q291cnNlc0xpc3QgPSByZXMgfHwgW107CiAgICAgIH0pOwogICAgfSwKCiAgICBmZXRjaERhdGEoKSB7CiAgICAgIFsicHJpbWFyeSIsICJtZWRpdW0iLCAiYWR2YW5jZWQiXS5mb3JFYWNoKHQgPT4gewogICAgICAgIHRoaXMuaGFuZGxlR2V0Q291cnNlc0J5VHlwZSgxLCB0KTsKICAgICAgfSk7CiAgICAgIHRoaXMuaGFuZGxlU2VhcmNoQ291cnNlKCk7CiAgICAgIHRoaXMuZ2V0VXNlckJvdWdodENvdXJzZXMoKTsKICAgICAgdGhpcy5oYW5kbGVIb3RDb3Vyc2UoKTsKICAgIH0sCgogICAgb25TZWxlY3RDb3Vwb24oe2l0ZW0sIHZhbHVlfSkgewogICAgICBpZiAodmFsdWUpIHsKICAgICAgICB1c2VDb3Vwb24odGhpcy5jdXJyZW50T3JkZXIsIGl0ZW0uaWQpLnRoZW4ocmVzID0+IHsKICAgICAgICAgIHRoaXMuc25hY2tCYXJDb2xvciA9ICJzdWNjZXNzIjsKICAgICAgICAgIHRoaXMuc25hY2tCYXJNc2cgPSByZXMubXNnOwogICAgICAgICAgdGhpcy5zaG93U25hY2tCYXIgPSB0cnVlOwogICAgICAgICAgZ2V0T3JkZXJCeUlkKHRoaXMuY3VycmVudE9yZGVyLmlkKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgIHRoaXMuY3VycmVudE9yZGVyID0gcmVzLmRhdGE7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjYW5jZWxDb3Vwb24odGhpcy5jdXJyZW50T3JkZXIsIGl0ZW0uaWQpLnRoZW4ocmVzID0+IHsKICAgICAgICAgIHRoaXMuc25hY2tCYXJDb2xvciA9ICJzdWNjZXNzIjsKICAgICAgICAgIHRoaXMuc25hY2tCYXJNc2cgPSByZXMubXNnOwogICAgICAgICAgdGhpcy5zaG93U25hY2tCYXIgPSB0cnVlOwogICAgICAgICAgZ2V0T3JkZXJCeUlkKHRoaXMuY3VycmVudE9yZGVyLmlkKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgIHRoaXMuY3VycmVudE9yZGVyID0gcmVzLmRhdGE7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIC8vIOivpeaWueazlee7keWumuWIsOS6huivvueoi+WNoeeJjOeahOW/g+W9ouaMiemSruS4igogICAgc2V0TGlrZU9yRGlzbGlrZShjb3Vyc2VJZCkgewogICAgICBjb25zdCB1aWQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXJJZCIpOwogICAgICAvLyDpgJrov4fkuIDkuKrmjqXlj6PmnaXojrflj5bor6XnlKjmiLflr7nlvZPliY3or77nqIvnmoTngrnotZ7mg4XlhrXvvIzmoLnmja7nu5Pmnpzov5vlhaXkuI3lkIznmoTliIbmlK8KICAgICAgZ2V0Q291cnNlQnlJZCh7Y291cnNlSWQsIHVpZH0pLnRoZW4ocmVzID0+IHsKICAgICAgICBpZiAocmVzLmxpa2VkKSB7CiAgICAgICAgICAvLyDliIbmlK8y77ya6Iul5b2T5YmN55So5oi35bey57uP5Li66K+l6K++56iL54K56L+H6LWe5LqG77yM5YiZ6LCD55So5Y+W5raI54K56LWe5o6l5Y+j5a6M5oiQ55u45YWz5pON5L2c77yM5Y+v5Lul5Lu/54Wn5YiG5pSvMeeahOekuuS+i+i/m+ihjAogICAgICAgICAgc2V0Q291cnNlRGlzbGlrZSh1aWQsIGNvdXJzZUlkKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgIGlmIChyZXMuY29kZSA9PT0gMSkgewogICAgICAgICAgICAgIHRoaXMuc25hY2tCYXJNc2cgPSByZXMubXNnOwogICAgICAgICAgICAgIHRoaXMuc25hY2tCYXJDb2xvciA9ICJzdWNjZXNzIjsKICAgICAgICAgICAgICB0aGlzLnNob3dTbmFja0JhciA9IHRydWU7CiAgICAgICAgICAgICAgdGhpcy5mZXRjaERhdGEoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIOWIhuaUrzHvvJroi6XlvZPliY3nlKjmiLfmsqHmnInlr7nor6Xor77nqIvngrnotZ7liJnosIPnlKjngrnotZ7mjqXlj6MKICAgICAgICAgIHNldENvdXJzZUxpa2UodWlkLCBjb3Vyc2VJZCkudGhlbihyZXMgPT4gewogICAgICAgICAgICBpZiAocmVzLmNvZGUgPT09IDEpIHsKICAgICAgICAgICAgICAvL+eCuei1nuaIkOWKn++8jOiuvue9ruaPkOekuuadoeeahOWGheWuue+8jOminOiJsu+8jOW5tuaYvuekugogICAgICAgICAgICAgIHRoaXMuc25hY2tCYXJNc2cgPSByZXMubXNnOwogICAgICAgICAgICAgIHRoaXMuc25hY2tCYXJDb2xvciA9ICJzdWNjZXNzIjsKICAgICAgICAgICAgICB0aGlzLnNob3dTbmFja0JhciA9IHRydWU7CiAgICAgICAgICAgICAgLy8g54K56LWe5oiQ5Yqf5ZCO77yM6K++56iL55qE54K56LWe5pWw5Lya5Y+Y5YyW77yM5Lmf5Lya5b2x5ZON54Ot6Zeo6K++56iL55qE5o6S5bqP77yM5Zug5q2k6LCD55So5Lul5LiL5pa55rOV5pu05paw6aG16Z2i5Lit55qE5pWw5o2uCiAgICAgICAgICAgICAgdGhpcy5mZXRjaERhdGEoKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAvLyDngrnotZ7lpLHotKXvvIzorr7nva7mj5DnpLrmnaHnmoTlhoXlrrnjgIHpopzoibLvvIzlubbmmL7npLrjgILnm67liY3ov5nph4zmmL7npLrnmoTlhoXlrrnmmK/vvJog54K56LWe5aSx6LSl44CB6K+35Yu/6YeN5aSN54K56LWe44CCCiAgICAgICAgICAgICAgLy8g5aaC5p6c5L2g55qE5Luj56CB5a6e546w5q2j56Gu77yI5Lul5Y+K5ZCO56uv5Luj56CB77yJIOW6lOW9k+S4jeS8muWHuueOsOi/meenjeaDheWGteOAggogICAgICAgICAgICAgIC8vIOWOn+WboOaYr+WcqOmHjeWkjeeCuei1nuWJje+8jOS9oOW6lOW9k+WcqOi/memHjOW3sue7j+WIpOaWreWHuueCuei/h+i1nu+8jOWboOatpOW6lOW9k+i3s+i9rOWIsOWIhuaUrzLljrvmiafooYzlj5bmtojngrnotZ7nmoTpgLvovpEKICAgICAgICAgICAgICB0aGlzLnNuYWNrQmFyTXNnID0gcmVzLm1zZzsKICAgICAgICAgICAgICB0aGlzLnNuYWNrQmFyQ29sb3IgPSAid2FybmluZyI7CiAgICAgICAgICAgICAgdGhpcy5zaG93U25hY2tCYXIgPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGNvbmZpcm1QYXltZW50KCkgewogICAgICB0aGlzLnNldHRsZURpYWxvZyA9IGZhbHNlOwogICAgICBwYXlPcmRlcih0aGlzLmN1cnJlbnRPcmRlci5pZCkudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMuc25hY2tCYXJDb2xvciA9ICJzdWNjZXNzIjsKICAgICAgICB0aGlzLnNuYWNrQmFyTXNnID0gcmVzLm1zZzsKICAgICAgICB0aGlzLnNob3dTbmFja0JhciA9IHRydWU7CiAgICAgIH0pOwogICAgfSwKICAgIGxlYXZlU2V0dGxlbWVudCgpIHsKICAgICAgdGhpcy5jdXJyZW50T3JkZXIgPSB7fTsKICAgICAgdGhpcy5jdXJyZW50Q291cnNlSWQgPSAwOwogICAgICB0aGlzLmN1cnJlbnRDb3Vyc2VQcmljZSA9IDA7CiAgICAgIHRoaXMuY3VycmVudENvdXJzZU5hbWUgPSAiIjsKICAgICAgdGhpcy5jb3Vwb25zID0gW107CiAgICAgIHRoaXMuc2VsZWN0ZWRDb3Vwb25zID0gW107CiAgICAgIHRoaXMuc2V0dGxlRGlhbG9nID0gZmFsc2U7CiAgICB9CiAgfSwKCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZmV0Y2hEYXRhKCk7CiAgfQp9Owo="},{"version":3,"sources":["CourseList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"CourseList.vue","sourceRoot":"src/views/student","sourcesContent":["<template>\n  <div>\n    <v-container class=\"ma-8 pa-4\">\n      <!-- 热门课程 -->\n      <v-row class=\"mt-8 mb-2\">\n        <v-chip\n            class=\"ma-2\"\n            color=\"deep-purple lighten-3\"\n            label\n            text-color=\"white\"\n        >\n          <v-icon left>\n            mdi-label\n          </v-icon>\n          热门课程\n        </v-chip>\n      </v-row>\n      <v-row>\n        <course-item\n            cols=\"12\"\n            md=\"4\"\n            v-for=\"course in hotCourseList\"\n            :key=\"course.id\"\n            :courseName=\"course.name\"\n            :courseId=\"course.id\"\n            :description=\"course.intro\"\n            :type=\"course.type\"\n            :cost=\"course.cost\"\n            :bought=\"course.bought\"\n            :rented=\"course.rented\"\n            :rent-end-time=\"course.rentEndTime\"\n            :manageable=\"course.manageable\"\n            :course-color=\"colorList[course.id % colorList.length]\"\n            :course-likes=\"course.likes\"\n            :liked=\"course.liked\"\n            @rent-course=\"showRent\"\n            @buy-course=\"showDialog\"\n            @set-like=\"setLikeOrDislike\"\n        >\n        </course-item>\n      </v-row>\n\n      <template>\n        <!-- 分类课程 -->\n        <v-row class=\"mt-2 mb-8\">\n          <v-chip\n              class=\"ma-2\"\n              color=\"deep-purple lighten-3\"\n              label\n              text-color=\"white\"\n          >\n            <v-icon left>\n              mdi-label\n            </v-icon>\n            分类课程\n          </v-chip>\n        </v-row>\n        <v-card>\n          <v-tabs color=\"deep-purple accent-4\" right v-model=\"currentTab\">\n            <v-tab>初级课程</v-tab>\n            <v-tab>中级课程</v-tab>\n            <v-tab>高级课程</v-tab>\n\n            <v-tab-item v-for=\"c in [primary, medium, advanced]\" :key=\"c.name\">\n              <v-container fluid>\n                <v-row class=\"ma-4\">\n                  <course-item\n                      cols=\"12\"\n                      md=\"4\"\n                      v-for=\"course in c.list\"\n                      :key=\"course.id\"\n                      :courseName=\"course.name\"\n                      :courseId=\"course.id\"\n                      :description=\"course.intro\"\n                      :type=\"course.type\"\n                      :cost=\"course.cost\"\n                      :bought=\"course.bought\"\n                      :rented=\"course.rented\"\n                      :rent-end-time=\"course.rentEndTime\"\n                      :manageable=\"course.manageable\"\n                      :course-color=\"colorList[course.id % colorList.length]\"\n                      :course-likes=\"course.likes\"\n                      :liked=\"course.liked\"\n                      @rent-course=\"showRent\"\n                      @buy-course=\"showDialog\"\n                      @set-like=\"setLikeOrDislike\"\n                  >\n                  </course-item>\n                </v-row>\n                <v-pagination\n                    v-model=\"c.currentPage\"\n                    :length=\"c.totalPage\"\n                    circle\n                ></v-pagination>\n              </v-container>\n            </v-tab-item>\n          </v-tabs>\n        </v-card>\n      </template>\n\n      <v-row class=\"ma-12\">\n        <v-divider></v-divider>\n      </v-row>\n\n      <!-- 搜索课程 -->\n      <v-row class=\"mt-10\">\n        <v-col>\n          <v-chip color=\"deep-purple lighten-3\" label text-color=\"white\">\n            <v-icon left>\n              mdi-label\n            </v-icon>\n            搜索课程\n          </v-chip>\n        </v-col>\n        <v-col>\n          <v-text-field\n              v-model=\"searchText\"\n              outlined\n              label=\"搜索课程\"\n              append-icon=\"mdi-magnify\"\n          ></v-text-field>\n        </v-col>\n      </v-row>\n      <v-row>\n        <course-item\n            cols=\"12\"\n            md=\"4\"\n            v-for=\"course in searchCourse\"\n            :key=\"course.id\"\n            :courseName=\"course.name\"\n            :courseId=\"course.id\"\n            :description=\"course.intro\"\n            :type=\"course.type\"\n            :cost=\"course.cost\"\n            :bought=\"course.bought\"\n            :rented=\"course.rented\"\n            :rent-end-time=\"course.rentEndTime\"\n            :manageable=\"course.manageable\"\n            :course-color=\"colorList[course.id % colorList.length]\"\n            :course-likes=\"course.likes\"\n            :liked=\"course.liked\"\n            @rent-course=\"showRent\"\n            @buy-course=\"showDialog\"\n            @set-like=\"setLikeOrDislike\"\n        >\n        </course-item>\n      </v-row>\n      <v-row class=\"d-flex justify-center\">\n        <v-pagination\n            class=\"mt-4\"\n            v-model=\"searchCurrentPage\"\n            :length=\"searchTotalPage\"\n            circle\n        ></v-pagination>\n      </v-row>\n\n      <v-row class=\"ma-12\">\n        <v-divider></v-divider>\n      </v-row>\n\n      <!-- 已购课程 -->\n      <v-row class=\"mt-8 mb-2\">\n        <v-chip\n            class=\"ma-2\"\n            color=\"deep-purple lighten-3\"\n            label\n            text-color=\"white\"\n        >\n          <v-icon left>\n            mdi-label\n          </v-icon>\n          我拥有的课程\n        </v-chip>\n      </v-row>\n      <v-row>\n        <course-item\n            cols=\"12\"\n            md=\"4\"\n            v-for=\"course in boughtCoursesList\"\n            :key=\"course.id\"\n            :courseName=\"course.name\"\n            :courseId=\"course.id\"\n            :description=\"course.intro\"\n            :type=\"course.type\"\n            :cost=\"course.cost\"\n            :bought=\"course.bought\"\n            :rented=\"course.rented\"\n            :rent-end-time=\"course.rentEndTime\"\n            :manageable=\"course.manageable\"\n            :course-color=\"colorList[course.id % colorList.length]\"\n            :course-likes=\"course.likes\"\n            :liked=\"course.liked\"\n            @rent-course=\"showRent\"\n            @buy-course=\"showDialog\"\n            @set-like=\"setLikeOrDislike\"\n        >\n        </course-item>\n      </v-row>\n    </v-container>\n\n    <!-- 租用提示对话框 -->\n    <v-dialog v-model=\"dialogRent\" width=\"1000\">\n      <v-card>\n        <v-card-title>租用信息确认</v-card-title>\n        <v-card-text> 是否租用课程 「{{ currentCourseName }}」？</v-card-text>\n        <v-card-text v-if=\"currentCourseRented\"> 您已租用课程至「{{ currentCourseRentEndTime }}」</v-card-text>\n\n        <v-divider></v-divider>\n\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"primary\" text @click=\"openRentPayDialog\">\n            选择{{ currentCourseRented ? \"续租\" : \"租用\" }}时间\n          </v-btn>\n          <v-btn color=\"primary\" text @click=\"dialogRent = false\">\n            取消\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n\n    <!-- 选择租用时间 生成订单 支付订单 -->\n    <v-dialog v-model=\"dialogRentPay\" width=\"1000\">\n      <v-card>\n        <v-card-title>\n          租用时间选择\n        </v-card-title>\n\n        <v-slider hint=\"时间\" v-model=\"rentTime\" max=\"90\" min=\"1\"></v-slider>\n\n        <v-card-text>\n          {{ currentCourseRented ? \"续租\" : \"租用\" }}时间:「{{ rentTime }}」天\n        </v-card-text>\n\n        <v-card-text>\n          租金:「{{ rentMoney }}」元\n        </v-card-text>\n\n\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"primary\" text @click=\"createRentOrder\">\n            生成租用订单\n          </v-btn>\n          <v-btn color=\"primary\" v-bind:disabled=\"!rentOrderCreated\" text @click=\"payRentOrder\">\n            支付\n          </v-btn>\n          <v-btn color=\"primary\" text @click=\"dialogRentPay = false\">\n            取消\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n\n\n    <!-- 购买提示对话框 -->\n    <v-dialog v-model=\"dialog\" width=\"1000\">\n      <v-card>\n        <v-card-title>购买信息确认</v-card-title>\n        <v-card-text> 是否购买课程 「{{ currentCourseName }}」？</v-card-text>\n\n        <v-divider></v-divider>\n\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"primary\" text @click=\"openSettleDialog\">\n            选择结算方案\n          </v-btn>\n          <v-btn color=\"primary\" text @click=\"dialog = false\">\n            取消\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n\n    <v-dialog v-model=\"settleDialog\" width=\"1000\">\n      <v-card>\n        <v-card-title v-if=\"msg\">{{ msg }}</v-card-title>\n        <div v-else>\n          <v-card-title>优惠券选择</v-card-title>\n          <v-data-table\n              v-model=\"selectedCoupons\"\n              :headers=\"couponHeaders\"\n              :items=\"coupons\"\n              class=\"elevation-1\"\n              show-select\n              @item-selected=\"onSelectCoupon\"\n          >\n            <template #header.data-table-select></template>\n          </v-data-table>\n          <v-row justify=\"center\" class=\"mt-5\"></v-row>\n          <v-card-actions class=\"justify-space-around d-flex\">\n            <v-alert type=\"info\">课程原价： {{ currentOrder.origin }}</v-alert>\n            <v-alert type=\"success\">实际付款： {{ currentOrder.cost }}</v-alert>\n            <v-btn color=\"primary\" @click=\"confirmPayment\">确认支付</v-btn>\n            <v-btn color=\"secondary\" @click=\"leaveSettlement\">离开</v-btn>\n          </v-card-actions>\n        </div>\n      </v-card>\n    </v-dialog>\n\n    <!-- 购买结果 -->\n    <v-dialog v-model=\"dialog2\" width=\"500\">\n      <v-card>\n        <v-card-title>购买课程</v-card-title>\n\n        <v-card-text>\n          {{ msg }}\n        </v-card-text>\n\n        <v-divider></v-divider>\n\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"primary\" text @click=\"dialog2 = false\">\n            确认\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n\n    <v-snackbar v-model=\"showSnackBar\" :color=\"snackBarColor\" top>\n      {{ snackBarMsg }}\n    </v-snackbar>\n  </div>\n\n</template>\n\n<script>\nimport CourseItem from \"@/components/CourseItem.vue\";\nimport {\n  getCoursesByType,\n  getCoursesByKey,\n  getBoughtCourses,\n  getHotCourses,\n  setCourseLike,\n  getCourseById,\n  setCourseDislike\n} from \"@/api/course\";\nimport {\n  cancelCoupon,\n  createOrder, createRentOrder,\n  getOrderById,\n  payOrder,\n  useCoupon\n} from \"@/api/order\";\nimport {getAvailableCouponsForOrder} from \"@/api/coupon\";\n\nexport default {\n  name: \"StudentCourseList\",\n\n  components: {\n    CourseItem\n  },\n\n  data() {\n    return {\n      dialog: false,\n      dialog2: false,\n      dialogRent: false,\n      dialogRentPay: false,\n      rentTime: 0,\n      rentOrderCreated: false,\n      msg: \"\",\n      currentCourseId: 0,\n      currentCourseName: \"\",\n      currentCoursePrice: 0,\n      currentCourseRented: false,\n      currentCourseRentEndTime: \"\",\n      colorList: [\"#26A69A\", \"#00B0FF\", \"#5C6BC0\", \"#FFB300\", \"#E57373\"],\n      currentTab: 0, // 0 1 2\n      primary: {\n        name: \"初级\",\n        totalPage: 1,\n        currentPage: 1,\n        list: []\n      },\n      medium: {\n        name: \"中级\",\n        totalPage: 1,\n        currentPage: 1,\n        list: []\n      },\n      advanced: {\n        name: \"高级\",\n        totalPage: 1,\n        currentPage: 1,\n        list: []\n      },\n      searchText: \"\",\n      searchCourse: [],\n      searchTotalPage: 1,\n      searchCurrentPage: 1,\n      //\n      boughtCoursesList: [],\n      hotCourseList: [],\n      showSnackBar: false,\n      snackBarMsg: \"\",\n      snackBarColor: \"success\",\n      couponHeaders: [\n        {\n          text: \"优惠券名称\",\n          value: \"name\"\n        },\n        {\n          text: \"优惠券类型\",\n          value: \"type\"\n        },\n        {\n          text: \"优惠券描述\",\n          value: \"description\"\n        },\n        {\n          text: \"元数据\",\n          value: \"metadata\"\n        },\n        {\n          text: \"与其他优惠券同时使用\",\n          value: \"sharable\"\n        }\n      ],\n      coupons: [],\n      selectedCoupons: [],\n      settleDialog: false,\n      currentOrder: {}\n    };\n  },\n\n  computed: {\n    rentMoney: function () {\n      return Math.floor(this.currentCoursePrice * (180 - this.rentTime) / 180 * this.rentTime / 45);\n    }\n  },\n  watch: {\n    \"primary.currentPage\": {\n      handler: function (val) {\n        this.handleGetCoursesByType(val, \"primary\");\n      }\n    },\n\n    \"medium.currentPage\": {\n      handler: function (val) {\n        this.handleGetCoursesByType(val, \"medium\");\n      }\n    },\n\n    \"advance.currentPage\": {\n      handler: function (val) {\n        this.handleGetCoursesByType(val, \"advanced\");\n      }\n    },\n\n    searchCurrentPage: function () {\n      this.handleSearchCourse();\n    },\n\n    searchText: function () {\n      this.handleSearchCourse();\n    }\n  },\n\n  methods: {\n    /**\n     * 1.产生订单，发送请求\n     * 2.允许付款\n     */\n    async createRentOrder() {\n      const uid = window.localStorage.getItem(\"userId\");\n      await createRentOrder(uid, this.currentCourseId, this.rentTime).then(res => {\n        if (res.code === 0) {\n          this.snackBarColor = \"error\";\n          this.snackBarMsg = res.msg;\n          this.showSnackBar = true;\n          this.dialog = false;\n        } else {\n          this.currentOrder = res.data\n        }\n      })\n      this.rentOrderCreated = true\n    },\n    /**\n     * 1.支付刚刚生成的租用订单\n     * 2.不允许付款\n     * 3.如果不够支付，报错\n     */\n    payRentOrder() {\n      this.rentOrderCreated = false\n      this.dialogRentPay = false\n      payOrder(this.currentOrder.id).then(res => {\n        if (res.code === 0) {\n          this.snackBarColor = \"error\";\n          this.snackBarMsg = res.msg;\n          this.showSnackBar = true;\n          this.dialog = false;\n          return\n        }\n        this.snackBarColor = \"success\";\n        this.snackBarMsg = res.msg;\n        this.showSnackBar = true;\n      });\n    },\n    /**\n     * 打开租用选择时间的对话框\n     */\n    openRentPayDialog() {\n      this.dialogRent = false;\n      this.dialogRentPay = true;\n    },\n\n    showRent(courseId, courseName, coursePrice, courseRent, courseRentEndTime) {\n      this.currentCourseId = courseId;\n      this.currentCourseName = courseName;\n      this.currentCoursePrice = coursePrice;\n      this.currentCourseRented = courseRent;\n      this.currentCourseRentEndTime = courseRentEndTime;\n      this.dialogRent = true;\n    },\n\n    showDialog(courseId, courseName, coursePrice) {\n      this.currentCourseId = courseId;\n      this.currentCourseName = courseName;\n      this.currentCoursePrice = coursePrice;\n      this.dialog = true;\n    },\n    openSettleDialog() {\n      const uid = window.localStorage.getItem(\"userId\");\n      createOrder(uid, this.currentCourseId).then(res => {\n        if (res.code === 0) {\n          this.snackBarColor = \"error\";\n          this.snackBarMsg = res.msg;\n          this.showSnackBar = true;\n          this.dialog = false;\n          return;\n        }\n\n        this.dialog = false;\n        this.settleDialog = true;\n        this.currentOrder = res.data;\n\n        getAvailableCouponsForOrder(this.currentOrder.id).then(res => {\n          this.selectedCoupons = this.currentOrder.usedCoupons\n              ? this.currentOrder.usedCoupons\n              : [];\n\n          this.coupons = [...res.data, ...this.selectedCoupons]; // 将当前可用的 和 已经用的 合并起来展示，若之前创建过订单没有付款，再次进入时需要这样\n        });\n      });\n    },\n    handleGetCoursesByType(page, type) {\n      const uid = window.localStorage.getItem(\"userId\");\n      const typeMap = {primary: \"初级\", medium: \"中级\", advanced: \"高级\"};\n      getCoursesByType({uid, type: typeMap[type], page}).then(res => {\n        this[type].totalPage = res.pages;\n        this[type].list = res.list;\n      });\n    },\n\n    handleSearchCourse() {\n      const uid = window.localStorage.getItem(\"userId\");\n      getCoursesByKey({\n        uid,\n        key: this.searchText,\n        page: this.searchCurrentPage\n      }).then(res => {\n        this.searchCourse = res.list;\n        this.searchTotalPage = res.pages;\n      });\n    },\n\n    handleHotCourse() {\n      const uid = window.localStorage.getItem(\"userId\");\n      getHotCourses(uid).then(res => {\n        this.hotCourseList = res.list;\n      });\n    },\n\n    getUserBoughtCourses() {\n      const uid = window.localStorage.getItem(\"userId\");\n      getBoughtCourses(uid).then(res => {\n        this.boughtCoursesList = res || [];\n      });\n    },\n\n    fetchData() {\n      [\"primary\", \"medium\", \"advanced\"].forEach(t => {\n        this.handleGetCoursesByType(1, t);\n      });\n      this.handleSearchCourse();\n      this.getUserBoughtCourses();\n      this.handleHotCourse();\n    },\n\n    onSelectCoupon({item, value}) {\n      if (value) {\n        useCoupon(this.currentOrder, item.id).then(res => {\n          this.snackBarColor = \"success\";\n          this.snackBarMsg = res.msg;\n          this.showSnackBar = true;\n          getOrderById(this.currentOrder.id).then(res => {\n            this.currentOrder = res.data;\n          });\n        });\n      } else {\n        cancelCoupon(this.currentOrder, item.id).then(res => {\n          this.snackBarColor = \"success\";\n          this.snackBarMsg = res.msg;\n          this.showSnackBar = true;\n          getOrderById(this.currentOrder.id).then(res => {\n            this.currentOrder = res.data;\n          });\n        });\n      }\n    },\n    // 该方法绑定到了课程卡牌的心形按钮上\n    setLikeOrDislike(courseId) {\n      const uid = window.localStorage.getItem(\"userId\");\n      // 通过一个接口来获取该用户对当前课程的点赞情况，根据结果进入不同的分支\n      getCourseById({courseId, uid}).then(res => {\n        if (res.liked) {\n          // 分支2：若当前用户已经为该课程点过赞了，则调用取消点赞接口完成相关操作，可以仿照分支1的示例进行\n          setCourseDislike(uid, courseId).then(res => {\n            if (res.code === 1) {\n              this.snackBarMsg = res.msg;\n              this.snackBarColor = \"success\";\n              this.showSnackBar = true;\n              this.fetchData();\n            }\n          });\n        } else {\n          // 分支1：若当前用户没有对该课程点赞则调用点赞接口\n          setCourseLike(uid, courseId).then(res => {\n            if (res.code === 1) {\n              //点赞成功，设置提示条的内容，颜色，并显示\n              this.snackBarMsg = res.msg;\n              this.snackBarColor = \"success\";\n              this.showSnackBar = true;\n              // 点赞成功后，课程的点赞数会变化，也会影响热门课程的排序，因此调用以下方法更新页面中的数据\n              this.fetchData();\n            } else {\n              // 点赞失败，设置提示条的内容、颜色，并显示。目前这里显示的内容是： 点赞失败、请勿重复点赞。\n              // 如果你的代码实现正确（以及后端代码） 应当不会出现这种情况。\n              // 原因是在重复点赞前，你应当在这里已经判断出点过赞，因此应当跳转到分支2去执行取消点赞的逻辑\n              this.snackBarMsg = res.msg;\n              this.snackBarColor = \"warning\";\n              this.showSnackBar = true;\n            }\n          });\n        }\n      });\n    },\n    confirmPayment() {\n      this.settleDialog = false;\n      payOrder(this.currentOrder.id).then(res => {\n        this.snackBarColor = \"success\";\n        this.snackBarMsg = res.msg;\n        this.showSnackBar = true;\n      });\n    },\n    leaveSettlement() {\n      this.currentOrder = {};\n      this.currentCourseId = 0;\n      this.currentCoursePrice = 0;\n      this.currentCourseName = \"\";\n      this.coupons = [];\n      this.selectedCoupons = [];\n      this.settleDialog = false;\n    }\n  },\n\n  mounted() {\n    this.fetchData();\n  }\n};\n</script>\n"]}]}