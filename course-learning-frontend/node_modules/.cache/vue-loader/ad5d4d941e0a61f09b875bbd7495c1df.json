{"remainingRequest":"/Users/taozehua/Downloads/软工2大作业/course-learning-frontend/node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!/Users/taozehua/Downloads/软工2大作业/course-learning-frontend/src/views/Post/CoursePost.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/taozehua/Downloads/软工2大作业/course-learning-frontend/src/views/Post/CoursePost.vue","mtime":1625937328234},{"path":"/Users/taozehua/Downloads/软工2大作业/course-learning-frontend/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/taozehua/Downloads/软工2大作业/course-learning-frontend/node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/taozehua/Downloads/软工2大作业/course-learning-frontend/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/taozehua/Downloads/软工2大作业/course-learning-frontend/node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQ291cnNlUG9zdCIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBhZ2VObzogMSwKICAgICAgbnVtYmVyOiA0LAogICAgICBwb3N0TGlzdHM6IFtdLAogICAgICB0b3RhbFBhZ2VzOiAwCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAganVtcFRvQ3JlYXRlUG9zdCgpIHsKICAgICAgY29uc3QgeyBjb3Vyc2VJZCB9ID0gdGhpcy4kcm91dGUucGFyYW1zOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaChgL3Bvc3QvY3JlYXRlLyR7Y291cnNlSWR9YCk7CiAgICB9LAogICAganVtcFRvRGV0YWlsKHBvc3QpewogICAgICB0aGlzLiRyb3V0ZXIucHVzaChgL3Bvc3QvcG9zdERldGFpbC8ke3Bvc3QucG9zdElkfS8ke3Bvc3QucG9zdFRpdGxlfS8ke3Bvc3QucG9zdENvbnRlbnR9LyR7cG9zdC51c2VySWR9YCk7CiAgICB9LAogICAgZ2V0TmV4dFBvc3RMaXN0cygpIHsKICAgICAgdGhpcy5wYWdlTm8rKzsKICAgICAgbGV0IGluc3RhbmNlID0gYXhpb3MuY3JlYXRlKHsKICAgICAgICBiYXNlVVJMOiAiaHR0cDovL2xvY2FsaG9zdDo4MDgxL2FwaSIsCiAgICAgICAgdGltZW91dDogMTAwMCAvLyDotoXml7bml7bplb8KICAgICAgfSk7CiAgICAgIGNvbnN0IHsgY291cnNlSWQgfSA9IHRoaXMuJHJvdXRlLnBhcmFtczsKICAgICAgaW5zdGFuY2UKICAgICAgICAuZ2V0KGAvcG9zdC9zZWFyY2gvY291cnNlLyR7Y291cnNlSWR9LyR7dGhpcy5wYWdlTm99LyR7dGhpcy5udW1iZXJ9YCkKICAgICAgICAudGhlbihyZXMgPT4gewogICAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEubGlzdCk7CiAgICAgICAgICB0aGlzLnBvc3RMaXN0cyA9IHJlcy5kYXRhLmxpc3Q7CiAgICAgICAgfSk7CiAgICB9LAogICAgZ2V0UHJldmlvdXNQb3N0TGlzdHMoKSB7CiAgICAgIHRoaXMucGFnZU5vLS07CiAgICAgIGxldCBpbnN0YW5jZSA9IGF4aW9zLmNyZWF0ZSh7CiAgICAgICAgYmFzZVVSTDogImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MS9hcGkiLAogICAgICAgIHRpbWVvdXQ6IDEwMDAgLy8g6LaF5pe25pe26ZW/CiAgICAgIH0pOwogICAgICBjb25zdCB7IGNvdXJzZUlkIH0gPSB0aGlzLiRyb3V0ZS5wYXJhbXM7CiAgICAgIGluc3RhbmNlCiAgICAgICAgLmdldChgL3Bvc3Qvc2VhcmNoL2NvdXJzZS8ke2NvdXJzZUlkfS8ke3RoaXMucGFnZU5vfS8ke3RoaXMubnVtYmVyfWApCiAgICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhLmxpc3QpOwogICAgICAgICAgdGhpcy5wb3N0TGlzdHMgPSByZXMuZGF0YS5saXN0OwogICAgICAgIH0pOwogICAgfSwKICAgIGdldFBvc3RMaXN0cygpIHsKICAgICAgbGV0IGluc3RhbmNlID0gYXhpb3MuY3JlYXRlKHsKICAgICAgICBiYXNlVVJMOiAiaHR0cDovL2xvY2FsaG9zdDo4MDgxL2FwaSIsCiAgICAgICAgdGltZW91dDogMTAwMCAvLyDotoXml7bml7bplb8KICAgICAgfSk7CiAgICAgIGNvbnN0IHsgY291cnNlSWQgfSA9IHRoaXMuJHJvdXRlLnBhcmFtczsKICAgICAgaW5zdGFuY2UKICAgICAgICAuZ2V0KGAvcG9zdC9zZWFyY2gvY291cnNlLyR7Y291cnNlSWR9LzEvJHt0aGlzLm51bWJlcn1gKQogICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSk7CiAgICAgICAgICB0aGlzLnBvc3RMaXN0cyA9IHJlcy5kYXRhLmxpc3Q7CiAgICAgICAgICB0aGlzLnRvdGFsUGFnZXMgPSByZXMuZGF0YS5wYWdlczsKICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMucG9zdExpc3RzKTsKICAgICAgICB9KTsKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFBvc3RMaXN0cygpOwogIH0KfTsK"},{"version":3,"sources":["CoursePost.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CoursePost.vue","sourceRoot":"src/views/Post","sourcesContent":["<template>\n  <div>\n    <v-container class=\"ma-8 pa-4\">\n      <v-row>\n        <v-btn\n          class=\"ma-4 mb-8\"\n          fab\n          dark\n          color=\"indigo\"\n          @click=\"jumpToCreatePost\"\n        >\n          <v-icon dark large>\n            mdi-plus\n          </v-icon>\n        </v-btn>\n      </v-row>\n      <li v-for=\"(post, key, index) in postLists\" :key=\"index\">\n        <v-card elevation=\"1\">\n          <v-card-title>{{ post.postTitle }}</v-card-title>\n          <v-card-text>{{post.postContent}}</v-card-text>\n          <v-card-actions @click=\"jumpToDetail(post)\">查看详情</v-card-actions>\n        </v-card>\n      </li>\n      <v-pagination\n        v-model=\"pageNo\"\n        :length=\"totalPages\"\n        @next=\"getNextPostLists\"\n        @previous=\"getPreviousPostLists\"\n      >\n      </v-pagination>\n    </v-container>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nexport default {\n  name: \"CoursePost\",\n  data() {\n    return {\n      pageNo: 1,\n      number: 4,\n      postLists: [],\n      totalPages: 0\n    };\n  },\n  methods: {\n    jumpToCreatePost() {\n      const { courseId } = this.$route.params;\n      this.$router.push(`/post/create/${courseId}`);\n    },\n    jumpToDetail(post){\n      this.$router.push(`/post/postDetail/${post.postId}/${post.postTitle}/${post.postContent}/${post.userId}`);\n    },\n    getNextPostLists() {\n      this.pageNo++;\n      let instance = axios.create({\n        baseURL: \"http://localhost:8081/api\",\n        timeout: 1000 // 超时时长\n      });\n      const { courseId } = this.$route.params;\n      instance\n        .get(`/post/search/course/${courseId}/${this.pageNo}/${this.number}`)\n        .then(res => {\n          console.log(res.data.list);\n          this.postLists = res.data.list;\n        });\n    },\n    getPreviousPostLists() {\n      this.pageNo--;\n      let instance = axios.create({\n        baseURL: \"http://localhost:8081/api\",\n        timeout: 1000 // 超时时长\n      });\n      const { courseId } = this.$route.params;\n      instance\n        .get(`/post/search/course/${courseId}/${this.pageNo}/${this.number}`)\n        .then(res => {\n          console.log(res.data.list);\n          this.postLists = res.data.list;\n        });\n    },\n    getPostLists() {\n      let instance = axios.create({\n        baseURL: \"http://localhost:8081/api\",\n        timeout: 1000 // 超时时长\n      });\n      const { courseId } = this.$route.params;\n      instance\n        .get(`/post/search/course/${courseId}/1/${this.number}`)\n        .then(res => {\n          console.log(res.data);\n          this.postLists = res.data.list;\n          this.totalPages = res.data.pages;\n          console.log(this.postLists);\n        });\n    }\n  },\n  created() {\n    this.getPostLists();\n  }\n};\n</script>\n\n<style scoped></style>\n"]}]}