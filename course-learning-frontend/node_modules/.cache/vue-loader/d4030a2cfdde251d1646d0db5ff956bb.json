{"remainingRequest":"/Users/taozehua/Downloads/软工2大作业/course-learning-frontend/node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!/Users/taozehua/Downloads/软工2大作业/course-learning-frontend/src/views/Post/ReplyDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/taozehua/Downloads/软工2大作业/course-learning-frontend/src/views/Post/ReplyDetail.vue","mtime":1625937328235},{"path":"/Users/taozehua/Downloads/软工2大作业/course-learning-frontend/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/taozehua/Downloads/软工2大作业/course-learning-frontend/node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/taozehua/Downloads/软工2大作业/course-learning-frontend/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/taozehua/Downloads/软工2大作业/course-learning-frontend/node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUmVwbHlEZXRhaWwiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwb3N0SWQ6IDAsCiAgICAgIHBhZ2VObzogMSwKICAgICAgbnVtYmVyOiA0LAogICAgICByZXBseUxpc3RzOiBbXSwKICAgICAgcmVwbHlJZDogMCwgLy/lvZPliY3lm57lpI3nmoRpZAogICAgICByZXBseUNvbnRlbnQ6ICIiLAogICAgICB0b3RhbFBhZ2VzOiAwLAogICAgICB1c2VySWQ6IDAsIC8v5Zue5aSN5Y+R6KGo55So5oi355qEaWQKICAgICAgcmVwbHlUZXh0OiBudWxsCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAganVtcFRvUmVwbHlEZXRhaWwoaXRlbSkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgKICAgICAgICBgL3Bvc3QvcmVwbHlEZXRhaWwvJHtpdGVtLnJlcGx5SWR9LyR7aXRlbS5yZXBseUNvbnRlbnR9LyR7aXRlbS5yZXBseVVzZXJJZH1gCiAgICAgICk7CiAgICAgIHRoaXMuZ2V0UmVwbHlEZXRhaWwoKTsKICAgIH0sCiAgICByZXBseSgpIHsKICAgICAgbGV0IGluc3RhbmNlID0gYXhpb3MuY3JlYXRlKHsKICAgICAgICBiYXNlVVJMOiAiaHR0cDovL2xvY2FsaG9zdDo4MDgxL2FwaSIsCiAgICAgICAgdGltZW91dDogMTAwMCAvLyDotoXml7bml7bplb8KICAgICAgfSk7CiAgICAgIGlmICh0aGlzLnJlcGx5VGV4dCAhPSBudWxsKSB7CiAgICAgICAgY29uc3QgcmVwbHlJbmZvID0gewogICAgICAgICAgcmVwbHlJZDogMTIsCiAgICAgICAgICBwb3N0SWQ6IDAsCiAgICAgICAgICByZXBseVVzZXJJZDogd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VySWQiKSwKICAgICAgICAgIHJlcGxpZWRVc2VySWQ6IHRoaXMudXNlcklkLAogICAgICAgICAgcmVwbHlDb250ZW50OiB0aGlzLnJlcGx5VGV4dCwKICAgICAgICAgIHJlcGxpZWRJZDogdGhpcy5yZXBseUlkLAogICAgICAgICAgcmVwbHlUaW1lOiBuZXcgRGF0ZSgpLAogICAgICAgICAgc3RhdHVzOiAwCiAgICAgICAgfTsKICAgICAgICBpbnN0YW5jZS5wb3N0KGAvcG9zdC9yZXBseS9jcmVhdGVgLCByZXBseUluZm8pLnRoZW4ocmVzID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgICB0aGlzLmdldFJlcGx5RGV0YWlsKCk7CiAgICAgICAgICB0aGlzLnJlcGx5VGV4dCA9IG51bGw7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBnZXROZXh0UmVwbHlMaXN0cygpIHsKICAgICAgdGhpcy5wYWdlTm8rKzsKICAgICAgbGV0IGluc3RhbmNlID0gYXhpb3MuY3JlYXRlKHsKICAgICAgICBiYXNlVVJMOiAiaHR0cDovL2xvY2FsaG9zdDo4MDgxL2FwaSIsCiAgICAgICAgdGltZW91dDogMTAwMCAvLyDotoXml7bml7bplb8KICAgICAgfSk7CiAgICAgIGluc3RhbmNlCiAgICAgICAgLmdldCgKICAgICAgICAgIGAvcG9zdC9zZWFyY2gvcmVwbHkvJHt0aGlzLnBhZ2VOb30vJHt0aGlzLm51bWJlcn0/cmVwbGllZElkPSR7dGhpcy5yZXBseUlkfSZ1c2VySWQ9JHt0aGlzLnVzZXJJZH1gCiAgICAgICAgKQogICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgdGhpcy5yZXBseUxpc3RzID0gcmVzLmRhdGEubGlzdDsKICAgICAgICAgIHRoaXMudG90YWxQYWdlcyA9IHJlcy5kYXRhLnBhZ2VzOwogICAgICAgIH0pOwogICAgfSwKICAgIGdldFByZXZpb3VzUmVwbHlMaXN0cygpIHsKICAgICAgdGhpcy5wYWdlTm8tLTsKICAgICAgbGV0IGluc3RhbmNlID0gYXhpb3MuY3JlYXRlKHsKICAgICAgICBiYXNlVVJMOiAiaHR0cDovL2xvY2FsaG9zdDo4MDgxL2FwaSIsCiAgICAgICAgdGltZW91dDogMTAwMCAvLyDotoXml7bml7bplb8KICAgICAgfSk7CiAgICAgIGluc3RhbmNlCiAgICAgICAgLmdldCgKICAgICAgICAgIGAvcG9zdC9zZWFyY2gvcmVwbHkvJHt0aGlzLnBhZ2VOb30vJHt0aGlzLm51bWJlcn0/cmVwbGllZElkPSR7dGhpcy5yZXBseUlkfSZ1c2VySWQ9JHt0aGlzLnVzZXJJZH1gCiAgICAgICAgKQogICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgdGhpcy5yZXBseUxpc3RzID0gcmVzLmRhdGEubGlzdDsKICAgICAgICAgIHRoaXMudG90YWxQYWdlcyA9IHJlcy5kYXRhLnBhZ2VzOwogICAgICAgIH0pOwogICAgfSwKICAgIGdldFJlcGx5RGV0YWlsKCkgewogICAgICB0aGlzLnJlcGx5SWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMucmVwbHlJZDsKICAgICAgdGhpcy5yZXBseUNvbnRlbnQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMucmVwbHlDb250ZW50OwogICAgICB0aGlzLnVzZXJJZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5yZXBseVVzZXJJZDsKICAgICAgbGV0IGluc3RhbmNlID0gYXhpb3MuY3JlYXRlKHsKICAgICAgICBiYXNlVVJMOiAiaHR0cDovL2xvY2FsaG9zdDo4MDgxL2FwaSIsCiAgICAgICAgdGltZW91dDogMTAwMCAvLyDotoXml7bml7bplb8KICAgICAgfSk7CgogICAgICBpbnN0YW5jZQogICAgICAgIC5nZXQoCiAgICAgICAgICBgL3Bvc3Qvc2VhcmNoL3JlcGx5LzEvJHt0aGlzLm51bWJlcn0/cmVwbGllZElkPSR7dGhpcy5yZXBseUlkfSZ1c2VySWQ9JHt0aGlzLnVzZXJJZH1gCiAgICAgICAgKQogICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgdGhpcy5yZXBseUxpc3RzID0gcmVzLmRhdGEubGlzdDsKICAgICAgICAgIHRoaXMudG90YWxQYWdlcyA9IHJlcy5kYXRhLnBhZ2VzOwogICAgICAgIH0pOwogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0UmVwbHlEZXRhaWwoKTsKICB9Cn07Cg=="},{"version":3,"sources":["ReplyDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ReplyDetail.vue","sourceRoot":"src/views/Post","sourcesContent":["<template>\n  <div>\n    <v-container class=\"ma-8 pa-4\">\n      <v-card>\n        <v-card-text>{{ replyContent }}</v-card-text>\n        <v-textarea v-model=\"replyText\" label=\"请输入回复内容\"></v-textarea>\n        <v-card-actions @click=\"reply\"> 回复</v-card-actions>\n      </v-card>\n      <li v-for=\"(item, key, index) in replyLists\" :key=\"index\">\n        <v-card elevation=\"1\">\n          <v-card-text>{{ item.replyContent }}</v-card-text>\n          <v-card-actions @click=\"jumpToReplyDetail(item)\"\n            >查看详情</v-card-actions\n          >\n        </v-card>\n      </li>\n      <v-pagination\n        v-model=\"pageNo\"\n        :length=\"totalPages\"\n        @next=\"getNextReplyLists\"\n        @previous=\"getPreviousReplyLists\"\n      >\n      </v-pagination>\n    </v-container>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nexport default {\n  name: \"ReplyDetail\",\n  data() {\n    return {\n      postId: 0,\n      pageNo: 1,\n      number: 4,\n      replyLists: [],\n      replyId: 0, //当前回复的id\n      replyContent: \"\",\n      totalPages: 0,\n      userId: 0, //回复发表用户的id\n      replyText: null\n    };\n  },\n  methods: {\n    jumpToReplyDetail(item) {\n      this.$router.push(\n        `/post/replyDetail/${item.replyId}/${item.replyContent}/${item.replyUserId}`\n      );\n      this.getReplyDetail();\n    },\n    reply() {\n      let instance = axios.create({\n        baseURL: \"http://localhost:8081/api\",\n        timeout: 1000 // 超时时长\n      });\n      if (this.replyText != null) {\n        const replyInfo = {\n          replyId: 12,\n          postId: 0,\n          replyUserId: window.localStorage.getItem(\"userId\"),\n          repliedUserId: this.userId,\n          replyContent: this.replyText,\n          repliedId: this.replyId,\n          replyTime: new Date(),\n          status: 0\n        };\n        instance.post(`/post/reply/create`, replyInfo).then(res => {\n          console.log(res);\n          this.getReplyDetail();\n          this.replyText = null;\n        });\n      }\n    },\n    getNextReplyLists() {\n      this.pageNo++;\n      let instance = axios.create({\n        baseURL: \"http://localhost:8081/api\",\n        timeout: 1000 // 超时时长\n      });\n      instance\n        .get(\n          `/post/search/reply/${this.pageNo}/${this.number}?repliedId=${this.replyId}&userId=${this.userId}`\n        )\n        .then(res => {\n          console.log(res);\n          this.replyLists = res.data.list;\n          this.totalPages = res.data.pages;\n        });\n    },\n    getPreviousReplyLists() {\n      this.pageNo--;\n      let instance = axios.create({\n        baseURL: \"http://localhost:8081/api\",\n        timeout: 1000 // 超时时长\n      });\n      instance\n        .get(\n          `/post/search/reply/${this.pageNo}/${this.number}?repliedId=${this.replyId}&userId=${this.userId}`\n        )\n        .then(res => {\n          console.log(res);\n          this.replyLists = res.data.list;\n          this.totalPages = res.data.pages;\n        });\n    },\n    getReplyDetail() {\n      this.replyId = this.$route.params.replyId;\n      this.replyContent = this.$route.params.replyContent;\n      this.userId = this.$route.params.replyUserId;\n      let instance = axios.create({\n        baseURL: \"http://localhost:8081/api\",\n        timeout: 1000 // 超时时长\n      });\n\n      instance\n        .get(\n          `/post/search/reply/1/${this.number}?repliedId=${this.replyId}&userId=${this.userId}`\n        )\n        .then(res => {\n          console.log(res);\n          this.replyLists = res.data.list;\n          this.totalPages = res.data.pages;\n        });\n    }\n  },\n  created() {\n    this.getReplyDetail();\n  }\n};\n</script>\n\n<style scoped></style>\n"]}]}