{"remainingRequest":"/Users/taozehua/Downloads/软工2大作业/course-learning-frontend/node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!/Users/taozehua/Downloads/软工2大作业/course-learning-frontend/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!/Users/taozehua/Downloads/软工2大作业/course-learning-frontend/node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!/Users/taozehua/Downloads/软工2大作业/course-learning-frontend/src/views/Post/PostDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/taozehua/Downloads/软工2大作业/course-learning-frontend/src/views/Post/PostDetail.vue","mtime":1625937328234},{"path":"/Users/taozehua/Downloads/软工2大作业/course-learning-frontend/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/taozehua/Downloads/软工2大作业/course-learning-frontend/node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/taozehua/Downloads/软工2大作业/course-learning-frontend/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/taozehua/Downloads/软工2大作业/course-learning-frontend/node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJQb3N0RGV0YWlsIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcG9zdFRpdGxlOiAiIiwKICAgICAgcG9zdENvbnRlbnQ6ICIiLAogICAgICBwb3N0SWQ6IDAsCiAgICAgIHBhZ2VObzogMSwKICAgICAgbnVtYmVyOiA0LAogICAgICByZXBseUxpc3RzOiBbXSwKICAgICAgcmVwbHlDb250ZW50OiBudWxsLAogICAgICB0b3RhbFBhZ2VzOiAwLAogICAgICB1c2VySWQ6IDAgLy/luJblrZDlj5HooajnlKjmiLfnmoRpZAoKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBqdW1wVG9SZXBseURldGFpbDogZnVuY3Rpb24ganVtcFRvUmVwbHlEZXRhaWwoaXRlbSkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL3Bvc3QvcmVwbHlEZXRhaWwvIi5jb25jYXQoaXRlbS5yZXBseUlkLCAiLyIpLmNvbmNhdChpdGVtLnJlcGx5Q29udGVudCwgIi8iKS5jb25jYXQoaXRlbS5yZXBseVVzZXJJZCkpOwogICAgfSwKICAgIHJlcGx5OiBmdW5jdGlvbiByZXBseSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBpbnN0YW5jZSA9IGF4aW9zLmNyZWF0ZSh7CiAgICAgICAgYmFzZVVSTDogImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MS9hcGkiLAogICAgICAgIHRpbWVvdXQ6IDEwMDAgLy8g6LaF5pe25pe26ZW/CgogICAgICB9KTsKCiAgICAgIGlmICh0aGlzLnJlcGx5Q29udGVudCAhPSBudWxsKSB7CiAgICAgICAgdmFyIHJlcGx5SW5mbyA9IHsKICAgICAgICAgIHJlcGx5SWQ6IDEyLAogICAgICAgICAgcG9zdElkOiB0aGlzLnBvc3RJZCwKICAgICAgICAgIHJlcGx5VXNlcklkOiB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXJJZCIpLAogICAgICAgICAgcmVwbGllZFVzZXJJZDogdGhpcy51c2VySWQsCiAgICAgICAgICByZXBseUNvbnRlbnQ6IHRoaXMucmVwbHlDb250ZW50LAogICAgICAgICAgcmVwbGllZElkOiAwLAogICAgICAgICAgcmVwbHlUaW1lOiBuZXcgRGF0ZSgpLAogICAgICAgICAgc3RhdHVzOiAwCiAgICAgICAgfTsKICAgICAgICBpbnN0YW5jZS5wb3N0KCIvcG9zdC9yZXBseS9jcmVhdGUiLCByZXBseUluZm8pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKCiAgICAgICAgICBfdGhpcy5nZXRQb3N0RGV0YWlsKCk7CgogICAgICAgICAgX3RoaXMucmVwbHlDb250ZW50ID0gbnVsbDsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGdldE5leHRSZXBseUxpc3RzOiBmdW5jdGlvbiBnZXROZXh0UmVwbHlMaXN0cygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLnBhZ2VObysrOwogICAgICB2YXIgaW5zdGFuY2UgPSBheGlvcy5jcmVhdGUoewogICAgICAgIGJhc2VVUkw6ICJodHRwOi8vbG9jYWxob3N0OjgwODEvYXBpIiwKICAgICAgICB0aW1lb3V0OiAxMDAwIC8vIOi2heaXtuaXtumVvwoKICAgICAgfSk7CiAgICAgIGluc3RhbmNlLmdldCgiL3Bvc3Qvc2VhcmNoL3Bvc3QvIi5jb25jYXQodGhpcy5wYWdlTm8sICIvIikuY29uY2F0KHRoaXMubnVtYmVyLCAiP3Bvc3RJZD0iKS5jb25jYXQodGhpcy5wb3N0SWQsICImdXNlcklkPSIpLmNvbmNhdCh3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXJJZCIpKSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICBfdGhpczIucmVwbHlMaXN0cyA9IHJlcy5kYXRhLmxpc3Q7CiAgICAgICAgX3RoaXMyLnRvdGFsUGFnZXMgPSByZXMuZGF0YS5wYWdlczsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0UHJldmlvdXNSZXBseUxpc3RzOiBmdW5jdGlvbiBnZXRQcmV2aW91c1JlcGx5TGlzdHMoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy5wYWdlTm8tLTsKICAgICAgdmFyIGluc3RhbmNlID0gYXhpb3MuY3JlYXRlKHsKICAgICAgICBiYXNlVVJMOiAiaHR0cDovL2xvY2FsaG9zdDo4MDgxL2FwaSIsCiAgICAgICAgdGltZW91dDogMTAwMCAvLyDotoXml7bml7bplb8KCiAgICAgIH0pOwogICAgICBpbnN0YW5jZS5nZXQoIi9wb3N0L3NlYXJjaC9wb3N0LyIuY29uY2F0KHRoaXMucGFnZU5vLCAiLyIpLmNvbmNhdCh0aGlzLm51bWJlciwgIj9wb3N0SWQ9IikuY29uY2F0KHRoaXMucG9zdElkLCAiJnVzZXJJZD0iKS5jb25jYXQod2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VySWQiKSkpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgX3RoaXMzLnJlcGx5TGlzdHMgPSByZXMuZGF0YS5saXN0OwogICAgICAgIF90aGlzMy50b3RhbFBhZ2VzID0gcmVzLmRhdGEucGFnZXM7CiAgICAgIH0pOwogICAgfSwKICAgIGdldFBvc3REZXRhaWw6IGZ1bmN0aW9uIGdldFBvc3REZXRhaWwoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdGhpcy5wb3N0VGl0bGUgPSB0aGlzLiRyb3V0ZS5wYXJhbXMucG9zdFRpdGxlOwogICAgICB0aGlzLnBvc3RDb250ZW50ID0gdGhpcy4kcm91dGUucGFyYW1zLnBvc3RDb250ZW50OwogICAgICB0aGlzLnVzZXJJZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy51c2VySWQ7CiAgICAgIHZhciBpbnN0YW5jZSA9IGF4aW9zLmNyZWF0ZSh7CiAgICAgICAgYmFzZVVSTDogImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MS9hcGkiLAogICAgICAgIHRpbWVvdXQ6IDEwMDAgLy8g6LaF5pe25pe26ZW/CgogICAgICB9KTsKICAgICAgdGhpcy5wb3N0SWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMucG9zdElkOwogICAgICBpbnN0YW5jZS5nZXQoIi9wb3N0L3NlYXJjaC9wb3N0LzEvIi5jb25jYXQodGhpcy5udW1iZXIsICI/cG9zdElkPSIpLmNvbmNhdCh0aGlzLnBvc3RJZCwgIiZ1c2VySWQ9IikuY29uY2F0KHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlcklkIikpKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgIF90aGlzNC5yZXBseUxpc3RzID0gcmVzLmRhdGEubGlzdDsKICAgICAgICBfdGhpczQudG90YWxQYWdlcyA9IHJlcy5kYXRhLnBhZ2VzOwogICAgICB9KTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFBvc3REZXRhaWwoKTsKICB9Cn07"},{"version":3,"sources":["PostDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA,OAAA,KAAA,MAAA,OAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,EADA;AAEA,MAAA,WAAA,EAAA,EAFA;AAGA,MAAA,MAAA,EAAA,CAHA;AAIA,MAAA,MAAA,EAAA,CAJA;AAKA,MAAA,MAAA,EAAA,CALA;AAMA,MAAA,UAAA,EAAA,EANA;AAOA,MAAA,YAAA,EAAA,IAPA;AAQA,MAAA,UAAA,EAAA,CARA;AASA,MAAA,MAAA,EAAA,CATA,CASA;;AATA,KAAA;AAWA,GAdA;AAeA,EAAA,OAAA,EAAA;AACA,IAAA,iBADA,6BACA,IADA,EACA;AACA,WAAA,OAAA,CAAA,IAAA,6BAAA,IAAA,CAAA,OAAA,cAAA,IAAA,CAAA,YAAA,cAAA,IAAA,CAAA,WAAA;AACA,KAHA;AAIA,IAAA,KAJA,mBAIA;AAAA;;AACA,UAAA,QAAA,GAAA,KAAA,CAAA,MAAA,CAAA;AACA,QAAA,OAAA,EAAA,2BADA;AAEA,QAAA,OAAA,EAAA,IAFA,CAEA;;AAFA,OAAA,CAAA;;AAIA,UAAA,KAAA,YAAA,IAAA,IAAA,EAAA;AACA,YAAA,SAAA,GAAA;AACA,UAAA,OAAA,EAAA,EADA;AAEA,UAAA,MAAA,EAAA,KAAA,MAFA;AAGA,UAAA,WAAA,EAAA,MAAA,CAAA,YAAA,CAAA,OAAA,CAAA,QAAA,CAHA;AAIA,UAAA,aAAA,EAAA,KAAA,MAJA;AAKA,UAAA,YAAA,EAAA,KAAA,YALA;AAMA,UAAA,SAAA,EAAA,CANA;AAOA,UAAA,SAAA,EAAA,IAAA,IAAA,EAPA;AAQA,UAAA,MAAA,EAAA;AARA,SAAA;AAUA,QAAA,QAAA,CAAA,IAAA,uBAAA,SAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,GAAA;;AACA,UAAA,KAAA,CAAA,aAAA;;AACA,UAAA,KAAA,CAAA,YAAA,GAAA,IAAA;AACA,SAJA;AAKA;AACA,KA1BA;AA2BA,IAAA,iBA3BA,+BA2BA;AAAA;;AACA,WAAA,MAAA;AACA,UAAA,QAAA,GAAA,KAAA,CAAA,MAAA,CAAA;AACA,QAAA,OAAA,EAAA,2BADA;AAEA,QAAA,OAAA,EAAA,IAFA,CAEA;;AAFA,OAAA,CAAA;AAIA,MAAA,QAAA,CACA,GADA,6BAEA,KAAA,MAFA,cAEA,KAAA,MAFA,qBAGA,KAAA,MAHA,qBAIA,MAAA,CAAA,YAAA,CAAA,OAAA,CAAA,QAAA,CAJA,GAMA,IANA,CAMA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,QAAA,MAAA,CAAA,UAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA,QAAA,MAAA,CAAA,UAAA,GAAA,GAAA,CAAA,IAAA,CAAA,KAAA;AACA,OAVA;AAWA,KA5CA;AA6CA,IAAA,qBA7CA,mCA6CA;AAAA;;AACA,WAAA,MAAA;AACA,UAAA,QAAA,GAAA,KAAA,CAAA,MAAA,CAAA;AACA,QAAA,OAAA,EAAA,2BADA;AAEA,QAAA,OAAA,EAAA,IAFA,CAEA;;AAFA,OAAA,CAAA;AAIA,MAAA,QAAA,CACA,GADA,6BAEA,KAAA,MAFA,cAEA,KAAA,MAFA,qBAGA,KAAA,MAHA,qBAIA,MAAA,CAAA,YAAA,CAAA,OAAA,CAAA,QAAA,CAJA,GAMA,IANA,CAMA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,QAAA,MAAA,CAAA,UAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA,QAAA,MAAA,CAAA,UAAA,GAAA,GAAA,CAAA,IAAA,CAAA,KAAA;AACA,OAVA;AAWA,KA9DA;AA+DA,IAAA,aA/DA,2BA+DA;AAAA;;AACA,WAAA,SAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,SAAA;AACA,WAAA,WAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,WAAA;AACA,WAAA,MAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,MAAA;AACA,UAAA,QAAA,GAAA,KAAA,CAAA,MAAA,CAAA;AACA,QAAA,OAAA,EAAA,2BADA;AAEA,QAAA,OAAA,EAAA,IAFA,CAEA;;AAFA,OAAA,CAAA;AAKA,WAAA,MAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,MAAA;AACA,MAAA,QAAA,CACA,GADA,+BAEA,KAAA,MAFA,qBAGA,KAAA,MAHA,qBAIA,MAAA,CAAA,YAAA,CAAA,OAAA,CAAA,QAAA,CAJA,GAMA,IANA,CAMA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,QAAA,MAAA,CAAA,UAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA,QAAA,MAAA,CAAA,UAAA,GAAA,GAAA,CAAA,IAAA,CAAA,KAAA;AACA,OAVA;AAWA;AApFA,GAfA;AAqGA,EAAA,OArGA,qBAqGA;AACA,SAAA,aAAA;AACA;AAvGA,CAAA","sourcesContent":["<template>\n  <div>\n    <v-container class=\"ma-8 pa-4\">\n      <v-card>\n        <v-card-title>{{ postTitle }}</v-card-title>\n        <v-card-text>{{ postContent }}</v-card-text>\n        <v-textarea v-model=\"replyContent\" label=\"请输入回复内容\"></v-textarea>\n        <v-card-actions @click=\"reply\"> 回复</v-card-actions>\n      </v-card>\n      <li v-for=\"(item, key, index) in replyLists\" :key=\"index\">\n        <v-card elevation=\"1\">\n          <v-card-text>{{ item.replyContent }}</v-card-text>\n          <v-card-actions @click=\"jumpToReplyDetail(item)\">查看详情</v-card-actions>\n        </v-card>\n      </li>\n      <v-pagination\n        v-model=\"pageNo\"\n        :length=\"totalPages\"\n        @next=\"getNextReplyLists\"\n        @previous=\"getPreviousReplyLists\"\n      >\n      </v-pagination>\n    </v-container>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nexport default {\n  name: \"PostDetail\",\n  data() {\n    return {\n      postTitle: \"\",\n      postContent: \"\",\n      postId: 0,\n      pageNo: 1,\n      number: 4,\n      replyLists: [],\n      replyContent: null,\n      totalPages: 0,\n      userId: 0 //帖子发表用户的id\n    };\n  },\n  methods: {\n    jumpToReplyDetail(item) {\n      this.$router.push(`/post/replyDetail/${item.replyId}/${item.replyContent}/${item.replyUserId}`);\n    },\n    reply() {\n      let instance = axios.create({\n        baseURL: \"http://localhost:8081/api\",\n        timeout: 1000 // 超时时长\n      });\n      if (this.replyContent != null) {\n        const replyInfo = {\n          replyId: 12,\n          postId: this.postId,\n          replyUserId: window.localStorage.getItem(\"userId\"),\n          repliedUserId: this.userId,\n          replyContent: this.replyContent,\n          repliedId: 0,\n          replyTime: new Date(),\n          status: 0\n        };\n        instance.post(`/post/reply/create`, replyInfo).then(res => {\n          console.log(res);\n          this.getPostDetail();\n          this.replyContent = null;\n        });\n      }\n    },\n    getNextReplyLists() {\n      this.pageNo++;\n      let instance = axios.create({\n        baseURL: \"http://localhost:8081/api\",\n        timeout: 1000 // 超时时长\n      });\n      instance\n        .get(\n          `/post/search/post/${this.pageNo}/${this.number}?postId=${\n            this.postId\n          }&userId=${window.localStorage.getItem(\"userId\")}`\n        )\n        .then(res => {\n          console.log(res);\n          this.replyLists = res.data.list;\n          this.totalPages = res.data.pages;\n        });\n    },\n    getPreviousReplyLists() {\n      this.pageNo--;\n      let instance = axios.create({\n        baseURL: \"http://localhost:8081/api\",\n        timeout: 1000 // 超时时长\n      });\n      instance\n        .get(\n          `/post/search/post/${this.pageNo}/${this.number}?postId=${\n            this.postId\n          }&userId=${window.localStorage.getItem(\"userId\")}`\n        )\n        .then(res => {\n          console.log(res);\n          this.replyLists = res.data.list;\n          this.totalPages = res.data.pages;\n        });\n    },\n    getPostDetail() {\n      this.postTitle = this.$route.params.postTitle;\n      this.postContent = this.$route.params.postContent;\n      this.userId = this.$route.params.userId;\n      let instance = axios.create({\n        baseURL: \"http://localhost:8081/api\",\n        timeout: 1000 // 超时时长\n      });\n\n      this.postId = this.$route.params.postId;\n      instance\n        .get(\n          `/post/search/post/1/${this.number}?postId=${\n            this.postId\n          }&userId=${window.localStorage.getItem(\"userId\")}`\n        )\n        .then(res => {\n          console.log(res);\n          this.replyLists = res.data.list;\n          this.totalPages = res.data.pages;\n        });\n    }\n  },\n  created() {\n    this.getPostDetail();\n  }\n};\n</script>\n\n<style scoped></style>\n"],"sourceRoot":"src/views/Post"}]}