# courselearning系统 - 测试文档

[TOC]



## 变更记录
负责人|日期|时间|修改部分
-|-|-|-
All|2021/7/8|12:33|创建文档
陶泽华|2021/7/8|14:00|建立大致结构
丁笑宇|2021/7/9|20:19|完成后端Dao层单元测试
胡晓通|2021/7/10|12:34|完成后端Service层单元测试
陶泽华|2021/7/11|00:17|完成集成测试

## 1.简介

### 1.1 项目背景

- 本项目是一个courselearning课程学习系统，详细内容参见需求用例文档，需求规格文档，体系结构文档，详细设计文档。
- 本项目集成前端 + 后端，因此测试必须分别从两个方面着手。

### 1.2 测试目的

+ 前端页面渲染
+ 后端数据库交互
+ 后端接口完成度
+ 后端接口正确性
+ 后端接口之间的交互
+ 前端与后端的交互

### 1.3 测试环境

+ 后端运行于spring boot框架上，故后端测试采用Junit与进行单元测试与集成测试。

  + spring boot版本：2.4.1
  + mybatis版本：2.1.4
  + Junit版本：4.13.2

### 1.4 测试范围

+ 测试主要为单元测试，前端目标是测试页面渲染测试，后端主要测试前端接口与数据库的交互性与正确性。

## 2. 测试计划

### 2.1 后端测试

1. **单元测试：** 后端是根据前端的方法进行响应，所以主要测试地方为前端与后端接口的Controller包内的类与方法实现，目标进行单元测试，对每个方法进行调用，并进入数据库查找传入的资料或输出的资料并进行一一比对验证正确性。
2. **集成测试：** 调用代码中与前端的接口controller，并对各个模块进行集成，测试代码模块之间的交互与正确性。

### 2.2 前端测试

1. **UI测试：** 主要测试每个页面的渲染效果，利用Junit调用每一个页面并闯入必要的参数，测试HTML语言与CSS语言的正确性。

## 3.后端Dao层单元测试

### 3.1 测试方向

- 测试mapperService类集合的每一个方法并调用数据库进行验证

### 3.2 测试准备

+ 重新运行sql文件确保数据库已经被初始化，不容易受外部数据干扰。
+ 关闭正在运行的后端避免测试途中外部传入新数据影响测试结果。

### 3.3 测试用例

#### 3.3.1 CourseQuestionMapper Test

+ **测试编号 B000000**

  1. 测试方法CourseQuestionMapper.createQuestion

  2. 测试方法（截取）：

     ```java
     CourseQuestionPO courseQuestionPO=new CourseQuestionPO(0,"好","是","因为所以",1, QuestionType.choice);
     assert 1== courseQuestionMapper.createQuestion(courseQuestionPO);
     ```

+ **测试编号 B000001**

  1. 测试方法CourseQuestionMapper.deleteQuestion

  2. 测试方法（截取）：

     ```java
     assert 1==courseQuestionMapper.deleteQuestion(1);
     ```

+ **测试编号 B000002**

  1. 测试方法CourseQuestionMapper.selectQuestionByQuestionId

  2. 测试方法（截取）：

     ```java
     CourseQuestionPO courseQuestionPO=courseQuestionMapper.selectQuestionByQuestionId(2);
     assert "s d j ka".equals(courseQuestionPO.getQuestion());
     ```

+ **测试编号 B000003**

  1. 测试方法CourseQuestionMapper.selectQuestionByTestId

  2. 测试方法（截取）：

     ```java
      List<CourseQuestionPO> courseQuestionPOS=courseQuestionMapper.selectQuestionByTestId(1);
     System.out.println(courseQuestionPOS.get(0).toString());
     assert 1==courseQuestionPOS.size();
     ```

+ **测试编号 B000004**

  1. 测试方法CourseQuestionMapper.selectQuestionByCourseId

  2. 测试方法（截取）：

     ```java
     List<CourseQuestionPO> courseQuestionPOS=courseQuestionMapper.selectQuestionByCourseId(1);
     System.out.println(courseQuestionPOS.get(0).toString());
     assert 1==courseQuestionPOS.size();
     ```

+ **测试编号 B000005**

  1. 测试方法CourseQuestionMapper.updateQuestion

  2. 测试方法（截取）：

     ```java
     CourseQuestionPO courseQuestionPO=new CourseQuestionPO(5,"答案是什么？","不是","因为",1,QuestionType.choice);
     assert 1==courseQuestionMapper.updateQuestion(courseQuestionPO);
     ```

+ **测试编号 B000006**

  1. 测试方法CourseQuestionMapper.addAnswer

  2. 测试方法（截取）：

     ```java
     CourseUserTestQuestionPO courseUserTestQuestionPO=new CourseUserTestQuestionPO(1,1,1,"dweejw",0);
     assert 1==courseQuestionMapper.addAnswer(courseUserTestQuestionPO);
     ```

+ **测试编号 B000007**

  1. 测试方法CourseQuestionMapper.updateAnswer

  2. 测试方法（截取）：

     ```java
     CourseUserTestQuestionPO courseUserTestQuestionPO=new CourseUserTestQuestionPO(1,1,1,"给e32io",1);
     assert 1==courseQuestionMapper.updateAnswer(courseUserTestQuestionPO);
         }
     ```

#### 3.3.2 CourseTestMapper Test

- **测试编号 B000008**

  1. 测试方法CourseTestMapper.createTest

  2. 测试方法（截取）：

     ```java
     CourseTestPO courseTestPO = new CourseTestPO(0, new Date(), new Date(), 1, "课堂测验", TestStatus.toStart);
     assert 1 == courseTestMapper.createTest(courseTestPO);
     assert courseTestPO.getTestId()==14;
     ```

- **测试编号 B000009**

  1. 测试方法CourseTestMapper.deleteTest

  2. 测试方法（截取）：

     ```java
     assert 1 == courseTestMapper.deleteTest(8);
     ```

- **测试编号 B000010**

  1. 测试方法CourseTestMapper.updateTest

  2. 测试方法（截取）：

     ```java
     CourseTestPO courseTestPO = new CourseTestPO(9, new Date(), new Date(), 1, "课堂课堂", TestStatus.toStart);
     assert 1 == courseTestMapper.updateTest(courseTestPO);
     ```

- **测试编号 B000012**

  1. 测试方法CourseTestMapper.findAllTest

  2. 测试方法（截取）：

     ```java
     List<CourseTestPO> courseTestPOS = courseTestMapper.findAllTest(1);
     System.out.println(courseTestPOS);
     assert 1 == courseTestPOS.size();
     ```

- **测试编号 B000013**

  1. 测试方法CourseTestMapper.findAllTest

  2. 测试方法（截取）：

     ```java
     List<CourseTestPO> courseTestPOS = courseTestMapper.findAllTest(1);
     System.out.println(courseTestPOS);
     assert 1 == courseTestPOS.size();
     ```

- **测试编号 B000014**

  1. 测试方法CourseTestMapper.addQuestion

  2. 测试方法（截取）：

     ```java
     assert 1 == courseTestMapper.addQuestion(1, 3);
     ```

- **测试编号 B000015**

  1. 测试方法CourseTestMapper.updateScore

  2. 测试方法（截取）：

     ```java
     CourseUserTestPO courseUserTestPO = new CourseUserTestPO(1, 1, 100);
     assert 1 == courseTestMapper.updateScore(courseUserTestPO);
     ```

- **测试编号 B000016**

  1. 测试方法CourseTestMapper.addTestParticipation

  2. 测试方法（截取）：

     ```java
     CourseUserTestPO courseUserTestPO = new CourseUserTestPO(1, 4, 0);
     assert 1 == courseTestMapper.addTestParticipation(courseUserTestPO);
     ```

- **测试编号 B000017**

  1. 测试方法CourseTestMapper.findMyScore

  2. 测试方法（截取）：

     ```java
     CourseUserTestPO courseUserTestPO=new CourseUserTestPO(1,1,0);
     assert 33==courseTestMapper.findMyScore(courseUserTestPO).getScore();
     CourseUserTestPO courseUserTestPO1=new CourseUserTestPO(3,3,3);
     assert null==courseTestMapper.findMyScore(courseUserTestPO1);
     ```

#### 3.3.3 CourseTestQuestionMapper Test

- **测试编号 B000018**

  1. 测试方法CourseTestQuestionMapperr.addTestQuestion

  2. 测试方法（截取）:

     ```java
     CourseTestQuestionPO courseTestQuestionPO1=new CourseTestQuestionPO(1,1);
     CourseTestQuestionPO courseTestQuestionPO2=new CourseTestQuestionPO(1,2);
     CourseTestQuestionPO courseTestQuestionPO3=new CourseTestQuestionPO(1,3);
     CourseTestQuestionPO courseTestQuestionPO4=new CourseTestQuestionPO(1,4);
     List<CourseTestQuestionPO> courseTestQuestionPOS=new ArrayList<>();
     courseTestQuestionPOS.add(courseTestQuestionPO1);
     courseTestQuestionPOS.add(courseTestQuestionPO2);
     courseTestQuestionPOS.add(courseTestQuestionPO3);
     courseTestQuestionPOS.add(courseTestQuestionPO4);
     courseTestQuestionMapper.addTestQuestion(courseTestQuestionPOS);
     ```

- **测试编号 B000019**

  1. 测试方法CourseTestQuestionMapper.deleteTestQuestion

  2. 测试方法（截取）:

     ```java
     assert 1==courseTestQuestionMapper.deleteTestQuestion(1,3);
     ```

#### 3.3.4 CourseUserTestMapper Test

- **测试编号 B000020**

  1. 测试方法CourseUserTestMapper.finishTest

  2. 测试方法（截取）:

     ```java
      CourseUserTestPO courseUserTestPO=new CourseUserTestPO(1,5,0);
     courseUserTestMapper.finishTest(courseUserTestPO);
     ```

- **测试编号 B000021**

  1. 测试方法CourseUserTestMapper.updateTest

  2. 测试方法（截取）:

     ```java
     CourseUserTestPO courseUserTestPO=new CourseUserTestPO(1,5,100);
     courseUserTestMapper.updateTest(courseUserTestPO);
     ```

#### 3.3.5 CourseUserTestQuestionMapper Test

- **测试编号 B000022**

  1. 测试方法CourseUserTestQuestionMapper.finishTestQuestions

  2. 测试方法（截取）:

     ```java
     CourseUserTestQuestionPO courseUserTestQuestionPO1=new CourseUserTestQuestionPO(1,1,1,"火凤凰",1);
     CourseUserTestQuestionPO courseUserTestQuestionPO2=new CourseUserTestQuestionPO(1,2,1,"23如何",0);
     CourseUserTestQuestionPO courseUserTestQuestionPO3=new CourseUserTestQuestionPO(1,3,1,"俄方金额范围",0);
     CourseUserTestQuestionPO courseUserTestQuestionPO4=new CourseUserTestQuestionPO(1,4,1,"得分分别",0);
     List<CourseUserTestQuestionPO> courseUserTestQuestionPOS=new ArrayList<>();
     courseUserTestQuestionPOS.add(courseUserTestQuestionPO1);
     courseUserTestQuestionPOS.add(courseUserTestQuestionPO2);
     courseUserTestQuestionPOS.add(courseUserTestQuestionPO3);
     courseUserTestQuestionPOS.add(courseUserTestQuestionPO4);
             courseUserTestQuestionMapper.finishTestQuestions(courseUserTestQuestionPOS);
     ```

- **测试编号 B000023**

  1. 测试方法CourseUserTestQuestionMapper.updateTestQuestions

  2. 测试方法（截取）:

     ```java
      CourseUserTestQuestionPO courseUserTestQuestionPO1=new CourseUserTestQuestionPO(1,1,1,"hxtyyds",1);
     CourseUserTestQuestionPO courseUserTestQuestionPO2=new CourseUserTestQuestionPO(1,2,1,"htshd",1);
     CourseUserTestQuestionPO courseUserTestQuestionPO3=new CourseUserTestQuestionPO(1,3,1,"给",0);
     // CourseUserTestQuestionPO courseUserTestQuestionPO4=new CourseUserTestQuestionPO(1,4,1,"给爷爬",0);
     List<CourseUserTestQuestionPO> courseUserTestQuestionPOS=new ArrayList<>();
     courseUserTestQuestionPOS.add(courseUserTestQuestionPO1);
     courseUserTestQuestionPOS.add(courseUserTestQuestionPO2);
     courseUserTestQuestionPOS.add(courseUserTestQuestionPO3);
     //courseUserTestQuestionPOS.add(courseUserTestQuestionPO4);
             courseUserTestQuestionMapper.updateTestQuestions(courseUserTestQuestionPOS);
     ```

- **测试编号 B000024**

  1. 测试方法CourseUserTestQuestionMapper.selectTestQuestions

  2. 测试方法（截取）:

     ```java
     CourseUserTestPO courseUserTestPO=new CourseUserTestPO(1,1,0);
             System.out.println(courseUserTestQuestionMapper.selectTestQuestions(courseUserTestPO));
     ```

#### 3.3.6 CourseOrderMapper Test

- **测试编号 B000025**

  1. 测试方法CourseOrderMapper.insert

  2. 测试方法（截取）:

     ```java
     CourseOrder courseOrder=new CourseOrder(0,3000,2000,1,"云原生",new Date(),1,1,new Date(), PurchaseType.Rent);
     assert 1==courseOrderMapper.insert(courseOrder);
     ```

- **测试编号 B000026**

  1. 测试方法CourseOrderMapper.selectPurchaseType

  2. 测试方法（截取）:

     ```java
     CourseOrder courseOrder=new CourseOrder(1,3000,2000,1,"云原生",new Date(),1,1,new Date(),PurchaseType.Buy);
             System.out.println(courseOrderMapper.selectPurchaseType(courseOrder).toString());
     ```

- **测试编号 B000027**

  1. 测试方法CourseOrderMapper.selectEndTime

  2. 测试方法（截取）:

     ```java
      CourseOrder courseOrder=new CourseOrder(1,3000,2000,1,"云原生",new Date(),1,1,new Date(),PurchaseType.Buy);
             System.out.println(courseOrderMapper.selectEndTime(courseOrder).toString());
     ```

#### 3.3.7 PostMapper Test

- **测试编号 B000028**

  1. 测试方法PostMapper.addPost

  2. 测试方法（截取）:

     ```java
     PostPO postPO=new PostPO(1,1,1,"哈哈哈哈哈哈","defew",new Date());
     assert 1==postMapper.addPost(postPO);
     assert postPO.getPostId()==6;
     ```

- **测试编号 B000029**

  1. 测试方法PostMapper.updatePost

  2. 测试方法（截取）:

     ```java
     PostPO postPO=new PostPO(1,1,1,"软工","dwfee",new Date());
     assert 1==postMapper.updatePost(postPO);
     ```

- **测试编号 B000030**

  1. 测试方法PostMapper.deletePost

  2. 测试方法（截取）:

     ```java
     assert 1==postMapper.deletePost(1);
     ```

- **测试编号 B000031**

  1. 测试方法PostMapper.selectPostByCourseId

  2. 测试方法（截取）:

     ```java
      List<PostPO> postPOS=postMapper.selectPostByCourseId(1);
     for(int i=0;i<postPOS.size();i++){
         System.out.println(postPOS.get(i).toString());
     }
     ```

- **测试编号 B000032**

  1. 测试方法PostMapper.selectPostByUserId

  2. 测试方法（截取）:

     ```java
     List<PostPO> postPOS=postMapper.selectPostByUserId(1);
     for(int i=0;i<postPOS.size();i++){
        System.out.println(postPOS.get(i).toString());
     }
     ```

- **测试编号 B000033**

  1. 测试方法PostMapper.selectPostByPostId

  2. 测试方法（截取）:

     ```java
     PostPO postPO=postMapper.selectPostByPostId(2);
     System.out.println(postPO.toString());
     ```

#### 3.3.8 ReplyMapper Test

- **测试编号 B000034**

  1. 测试方法ReplyMapper.reply

  2. 测试方法（截取）:

     ```java
     ReplyPO replyPO =new ReplyPO(100,2,2,1,"文化好我发化",1,new Date(),0);
     assert 1== replyMapper.reply(replyPO);
     assert replyPO.getReplyId()==9;
     ```

- **测试编号 B000035**

  1. 测试方法ReplyMapper.updateReply

  2. 测试方法（截取）:

     ```java
     ReplyPO replyPO =new ReplyPO(1,2,2,1,"哈哈哈哈哈啊",0,new Date(),1);
     assert 1== replyMapper.updateReply(replyPO);
     ```

- **测试编号 B000036**

  1. 测试方法ReplyMapper.selectReplyByRepliedId

  2. 测试方法（截取）:

     ```java
      List<ReplyPO> replyPO = replyMapper.selectReplyByRepliedId(1);
     assert replyPO.size()==2;
     ```

- **测试编号 B000037**

  1. 测试方法ReplyMapper.updateStatus

  2. 测试方法（截取）:

     ```java
     assert 1== replyMapper.updateStatus(1);
     ```

- **测试编号 B000038**

  1. 测试方法ReplyMapper.deleteReply

  2. 测试方法（截取）:

     ```java
     assert 1== replyMapper.deleteReply(2);
     ```

- **测试编号 B000039**

  1. 测试方法ReplyMapper.selectReplyByUserId

  2. 测试方法（截取）:

     ```java
     List<ReplyPO> replyPOS = replyMapper.selectReplyByUserId(2);
     for(int i = 0; i< replyPOS.size(); i++){
        System.out.println(replyPOS.get(i).toString());
     }
     ```

- **测试编号 B000040**

  1. 测试方法ReplyMapper.selectReplyByPostId

  2. 测试方法（截取）:

     ```java
     List<ReplyPO> replyPOS = replyMapper.selectReplyByPostId(2);
     for(int i = 0; i< replyPOS.size(); i++){
        System.out.println(replyPOS.get(i).toString());
     }
     ```

#### 3.3.9 UserMapper Test

- **测试编号 B000041**

  1. 测试方法UserMapper.insert

  2. 测试方法（截取）:

     ```java
     User user=new User(0,"丁笑宇","19850355091","123456",null,0, UserRole.TEACHER,new Date(),100,new Date());
     assert 1==userMapper.insert(user);
     assert 5==user.getId();
     ```

- **测试编号 B000042**

  1. 测试方法UserMapper.deleteByPrimaryKey

  2. 测试方法（截取）:

     ```java
     assert 1==userMapper.deleteByPrimaryKey(3);
     ```

- **测试编号 B000043**

  1. 测试方法UserMapper.updateUserInfo

  2. 测试方法（截取）:

     ```java
     User user=new User(2,"丁笑宇","19850355091","123456",null,0, UserRole.TEACHER,new Date(),1,new Date());
     assert 1==userMapper.updateByPrimaryKey(user);
     ```

## 4.后端service层单元测试

### 4.1 测试方向

- 测试Service类集合的每一个方法并调用数据库进行验证

### 4.2 测试准备

+ 重新运行sql文件确保数据库已经被初始化，不容易受外部数据干扰。
+ 关闭正在运行的后端避免测试途中外部传入新数据影响测试结果。

### 4.3 测试用例

#### 4.3.1 CourseTestService Test

- **测试编号 B000044**

  1. 测试方法CourseTestService.createQuestion

  2. 测试方法（截取）:

     ```java
     System.out.println(courseTestService.createQuestion(new CourseQuestionDTO(1, "dxydsb", null, "2333", "6666", QuestionType.ask)));
     ```

- **测试编号 B000045**

  1. 测试方法CourseTestService.getQuestionsByCourseId

  2. 测试方法（截取）:

     ```java
     System.out.println(courseTestService.getQuestionsByCourseId(0));
     ```

- **测试编号 B000046**

  1. 测试方法CourseTestService.getQuestionsByTestId

  2. 测试方法（截取）:

     ```java
     System.out.println(courseTestService.getQuestionsByTestId(1, 1));
     ```

- **测试编号 B000047**

  1. 测试方法CourseTestService.getTestsByCourseId

  2. 测试方法（截取）:

     ```java
     System.out.println(courseTestService.getTestsByCourseId(0));
     ```

- **测试编号 B000048**

  1. 测试方法CourseTestService.getTestsByCourseId

  2. 测试方法（截取）:

     ```java
     System.out.println(courseTestService.getTestsByCourseId(0,1));
     ```

- **测试编号 B000049**

  1. 测试方法CourseTestService.getTestsByTeacherId

  2. 测试方法（截取）:

     ```java
     System.out.println(courseTestService.getTestsByCourseId(0));
     ```

- **测试编号 B000050**

  1. 测试方法CourseTestService.finishTest

  2. 测试方法（截取）:

     ```java
     Map<Integer, String> answers =new HashMap<>();
     answers.put(1, "Yes");
     answers.put(2, "233");
     answers.put(3, "1");
     System.out.println(courseTestService.finishTest(new CourseTestFinishDTO(1,1,answers)));
     ```

- **测试编号 B000051**

  1. 测试方法CourseTestService.createTest

  2. 测试方法（截取）:

     ```java
     System.out.println(courseTestService.createTest(new CourseTestDTO(1, null, "123", null, new Date(System.currentTimeMillis() - 1000),
                     new Date(System.currentTimeMillis() + 24 * 3600 * 1000))));
     System.out.println(courseTestService.createTest(new CourseTestDTO(1, null, "123", null, new Date(System.currentTimeMillis() + 10000),
                     new Date(System.currentTimeMillis() + 24 * 3600 * 1000))));
     System.out.println(courseTestService.createTest(new CourseTestDTO(1, null, "123", null, new Date(System.currentTimeMillis() - 100000000),
                     new Date(System.currentTimeMillis() - 24 * 3600 * 1000))));
     ```

#### 4.3.2 CourseOrderService Test

- **测试编号 B000052**

  1. 测试方法CourseOrderService.getCourseOrders

  2. 测试方法（截取）:

     ```java
     System.out.println(courseOrderService.getCourseOrders(1));
     ```

- **测试编号 B000053**

  1. 测试方法CourseOrderService.createCourseOrder

  2. 测试方法（截取）:

     ```java
     //ResultVO{code=1, msg='恢复到未完成订单',data='CourseOrderVO(id=0, origin=3000, cost=2000, courseId=1, courseName=云原生
     System.out.println(courseOrderService.createCourseOrder(1,1));
     //ResultVO{code=0, msg='已购买该课程'}
     System.out.println(courseOrderService.createCourseOrder(2,1));
     //ResultVO{code=1, msg='恢复到未完成订单',data='CourseOrderVO(id=2, origin=3000, cost=2000, courseId=3, courseName=云原生2
     System.out.println(courseOrderService.createCourseOrder(3,1));
     //ResultVO{code=1, msg='恢复到未完成订单',data='CourseOrderVO(id=3, origin=3000, cost=2000, courseId=4, courseName=云原生3
     System.out.println(courseOrderService.createCourseOrder(4,1));
     ```

- **测试编号 B000054**

  1. 测试方法CourseOrderService.createCourseRentOrder

  2. 测试方法（截取）:

     ```java
     //ResultVO{code=2001, msg='ok',data='CourseOrderVO(id=9, origin=null, cost=9, courseId=1, courseName=dxy, createTime=Fri Jul 09 16:06:24 CST 2021, userId=1, status=2, endTime=Mon Jul 19 16:06:24 CST 2021, purchaseType=Rent, usedCoupons=null)}
     System.out.println(courseOrderService.createCourseRentOrder(new OrderRentDTO(1,1,10)));
     //ResultVO{code=0, msg='已购买该课程'}
     System.out.println(courseOrderService.createCourseRentOrder(new OrderRentDTO(1,2,20)));
     //ResultVO{code=2001, msg='ok',data='CourseOrderVO(id=9, origin=null, cost=25, courseId=3, courseName=dxy, createTime=Fri Jul 09 16:06:24 CST 2021, userId=1, status=2, endTime=Mon Aug 09 16:06:24 CST 2021, purchaseType=Rent, usedCoupons=null)}
     System.out.println(courseOrderService.createCourseRentOrder(new OrderRentDTO(1,3,30)));
     //ResultVO{code=2001, msg='ok',data='CourseOrderVO(id=9, origin=null, cost=31, courseId=4, courseName=dxy, createTime=Fri Jul 09 16:06:24 CST 2021, userId=1, status=2, endTime=Wed Aug 18 16:06:24 CST 2021, purchaseType=Rent, usedCoupons=null)}
     System.out.println(courseOrderService.createCourseRentOrder(new OrderRentDTO(1,4,40)));
     //ResultVO{code=2001, msg='ok',data='CourseOrderVO(id=9, origin=null, cost=36, courseId=5, courseName=dxy, createTime=Fri Jul 09 16:06:24 CST 2021, userId=1, status=2, endTime=Sat Aug 28 16:06:24 CST 2021, purchaseType=Rent, usedCoupons=null)}
     System.out.println(courseOrderService.createCourseRentOrder(new OrderRentDTO(1,5,50)));
     ```

#### 4.3.3 PostService Test

- **测试编号 B000055**

  1. 测试方法PostService.createPost

  2. 测试方法（截取）:

     ```java
     PostDTO postDTO=new PostDTO(1,1,1,"三点几了",new Date(),"做作乱啊做做做");
     assert "操作成功"==postService.createPost(postDTO).getMsg();
     ```

- **测试编号 B000056**

  1. 测试方法PostService.deletePost

  2. 测试方法（截取）:

     ```java
     PostDTO postDTO=new PostDTO(1,1,1,"三点几了",new Date(),"做作乱啊做做做");
     assert "操作失败"==postService.deletePost(postDTO).getMsg();
     ```

- **测试编号 B000057**

  1. 测试方法PostService.searchPosts

  2. 测试方法（截取）:

     ```java
     System.out.println(postService.searchPosts(1,2,4));
     ```

- **测试编号 B000058**

  1. 测试方法PostService.searchReplies

  2. 测试方法（截取）:

     ```java
     System.out.println(postService.searchReplies(2,2,5));
     ```

- **测试编号 B000059**

  1. 测试方法PostService.createReply

  2. 测试方法（截取）:

     ```java
     ReplyDTO replyDTO=new ReplyDTO(1,1,1,1,"三点几了",1,new Date(),0);
     assert "操作失败"==postService.createReply(replyDTO).getMsg();
     ```

- **测试编号 B000060**

  1. 测试方法PostService.createReply2Reply

  2. 测试方法（截取）:

     ```java
     ReplyDTO replyDTO=new ReplyDTO(1,1,1,1,"三点几了",1,new Date(),0);
     assert "操作成功"==postService.createReply2Reply(replyDTO).getMsg();
     ```

- **测试编号 B000061**

  1. 测试方法PostService.searchReply2Reply

  2. 测试方法（截取）:

     ```java
     System.out.println(postService.searchReply2Reply(1,2,2));
     ```

- **测试编号 B000062**

  1. 测试方法PostService.searchUserPosts

  2. 测试方法（截取）:

     ```java
     System.out.println(postService.searchUserPosts(2,1,4));
     ```

- **测试编号 B000063**

  1. 测试方法PostService.searchUserReplies

  2. 测试方法（截取）:

     ```java
     System.out.println(postService.searchUserReplies(2,1,4));
     ```

#### 4.3.4 VipService Test

- **测试编号 B000064**

  1. 测试方法VipService.getVipPriceInfo

  2. 测试方法（截取）:

     ```java
     ResultVO<List<VipInfoVO>> resultVO = vipService.getVipPriceInfo();
     for (VipInfoVO vipInfoVO : resultVO.getData()) {
          System.out.println(vipInfoVO.toString());
     }
     ```

- **测试编号 B000065**

  1. 测试方法VipService.getVip

  2. 测试方法（截取）:

     ```java
     VipChargeDTO vipChargeDTO = new VipChargeDTO(1, "week");
     System.out.println(vipService.getVip(vipChargeDTO).toString());
     ```

## 5.后端集成测试

### 5.1 测试方向

+ 测试各个controller的情况，验证正确性。

### 5.2 测试准备

+ 重新运行sql文件确保数据库已经被初始化，不容易受外部数据干扰。
+ 关闭正在运行的后端避免测试途中外部传入新数据影响测试结果。

### 5.3 测试用例

- **测试编号 B000066**

  1. 测试：

     ```http
     POST http://localhost:8081/api//course_order/create?uid=5&courseId=2
     ```

  2. 输出：

     ```http
     {
       "code": 1,
       "msg": "创建成功",
       "data": {
         "id": 7,
         "origin": 100,
         "cost": 100,
         "courseId": 3,
         "courseName": "道德与人生",
         "createTime": "2021-07-09 23:20:22",
         "userId": 5,
         "status": 2,
         "endTime": null,
         "purchaseType": "Buy",
         "usedCoupons": null
       }
     }
     ```

- **测试编号 B000067**

  1. 测试：

     ```http
     POST http://localhost:8081/api/course_order/pay/10
     ```

  2. 输出：

     ```http
     {
       "code": 1,
       "msg": "付款成功",
       "data": null
     }
     ```

- **测试编号 B000068**

  1. 测试：

     ```http
     GET http://localhost:8081/api/course_order/uid/5
     ```

  2. 输出：

     ```http
     [
       {
         "id": 7,
         "origin": 100,
         "cost": 100,
         "courseId": 3,
         "courseName": "道德与人生",
         "createTime": "2021-07-09 23:20:22",
         "userId": 5,
         "status": 1,
         "endTime": null,
         "purchaseType": "Buy",
         "usedCoupons": []
       },
       {
         "id": 8,
         "origin": 1,
         "cost": 1,
         "courseId": 1,
         "courseName": "软件工程与计算 I",
         "createTime": "2021-07-09 23:20:57",
         "userId": 5,
         "status": 2,
         "endTime": null,
         "purchaseType": "Buy",
         "usedCoupons": []
       },
       {
         "id": 9,
         "origin": 1,
         "cost": 1,
         "courseId": 2,
         "courseName": "软件工程与计算 II",
         "createTime": "2021-07-09 23:21:00",
         "userId": 5,
         "status": 2,
         "endTime": null,
         "purchaseType": "Buy",
         "usedCoupons": []
       }
     ]
     ```

- **测试编号 B000069**

  1. 测试：

     ```http
     POST http://localhost:8081/api/course_order/rent
     ```

  2. 输入：

     ```http
     Content-Type: application/json
     
     {
       "userId": 5,
       "courseId": 3,
       "time": 35
     }
     ```

  3. 输出：

     ```http
     {
       "code": 2001,
       "msg": "ok",
       "data": {
         "id": 10,
         "origin": null,
         "cost": 25,
         "courseId": 2,
         "courseName": "软件工程与计算 II",
         "createTime": "2021-07-09 23:30:53",
         "userId": 5,
         "status": 2,
         "endTime": 1628436653836,
         "purchaseType": "Rent",
         "usedCoupons": null
       }
     }
     ```

- **测试编号 B000070**

  1. 测试：

     ```http
     GET http://localhost:8081/api/course/sid/5
     ```

  2. 输出：

     ```http
     [
       {
         "id": 2,
         "name": "软件工程与计算 II",
         "type": "中级",
         "intro": "基于DevOps培养团队开发中小规模软件系统的能力",
         "picture": "course2.png",
         "school": "南京大学",
         "createTime": "2020-12-20 18:00:00",
         "cost": 1,
         "teacherId": 1,
         "teacherName": "刘钦",
         "likes": 0,
         "liked": false,
         "bought": false,
         "manageable": false,
         "rented": true,
         "rentEndTime": 1633622400000
       },
       {
         "id": 3,
         "name": "道德与人生",
         "type": "高级",
         "intro": "无",
         "picture": "course3.png",
         "school": "教育部",
         "createTime": "2021-07-10 06:28:12",
         "cost": 100,
         "teacherId": 4,
         "teacherName": "桃子",
         "likes": 0,
         "liked": false,
         "bought": true,
         "manageable": false,
         "rented": false,
         "rentEndTime": null
       }
     ]
     ```

- **测试编号 B000071**

  1. 测试：

     ```http
     GET http://localhost:8081/api/course/1?uid=5
     ```

  2. 输出：

     ```http
     {
       "id": 1,
       "name": "软件工程与计算 I",
       "type": "中级",
       "intro": "通过Scheme、Python和Java语言，让你分别体会函数式编程范式、结构化编程范式和面向对象编程范式",
       "picture": "course1.png",
       "school": "南京大学",
       "createTime": "2020-12-20 18:00:00",
       "cost": 1,
       "teacherId": 1,
       "teacherName": "刘钦",
       "likes": 1,
       "liked": true,
       "bought": false,
       "manageable": false,
       "rented": false,
       "rentEndTime": 1628784000000
     }
     
     ```

- **测试编号 B000072**

  1. 测试：

     ```http
     POST http://localhost:8081/api/course-test/questionCreate
     ```

  2. 输入：

     ```http
     Content-Type: application/json
     
     {
       "question": "世界上最帅的人是谁？",
       "questionAnswer": "助教小哥哥",
       "questionAnalysis": "帅不需要理由",
       "courseId": 3,
       "questionType": "ask"
     }
     ```

  3. 输出：

     ```http
     {
       "code": 2001,
       "msg": "ok",
       "data": {
         "question": "世界上最帅的人是谁？",
         "questionId": 16,
         "questionAnswer": "助教小哥哥",
         "questionAnalysis": "帅不需要理由",
         "courseId": 3,
         "questionType": "ask",
         "isRight": null,
         "studentsAnswer": null
       }
     }
     ```

- **测试编号 B000073**

  1. 测试：

     ```http
     POST http://localhost:8081/api/course-test/questionFix
     ```

  2. 输入：

     ```http
     Content-Type: application/json
     
     {
       "questionId": 16,
       "question": "世界上最飒的人是谁？",
       "questionAnswer": "助教小姐姐",
       "questionAnalysis": "飒不需要理由",
       "courseId": 3,
       "questionType": "ask"
     }
     ```

  3. 输出：

     ```http
     {
       "code": 2001,
       "msg": "ok",
       "data": {
         "question": "世界上最飒的人是谁？",
         "questionId": 15,
         "questionAnswer": "助教小姐姐",
         "questionAnalysis": "飒不需要理由",
         "courseId": 3,
         "questionType": "ask",
         "isRight": null,
         "studentsAnswer": null
       }
     }
     ```

- **测试编号 B000074**

  1. 测试：

     ```http
     POST http://localhost:8081/api/course-test/questionDelete
     ```

  2. 输入：

     ```http
     Content-Type: application/json
     
     {
       "questionId": 19
     }
     ```

  3. 输出：

     ```http
     {
       "code": 2001,
       "msg": "ok",
       "data": null
     }
     ```

- **测试编号 B000075**

  1. 测试：

     ```http
     GET http://localhost:8081/api/course-test/questionGet/course/3
     ```

  2. 输出：

     ```http
     {
       "code": 2001,
       "msg": "ok",
       "data": [
         {
           "question": "世界上最飒的人是谁？",
           "questionId": 16,
           "questionAnswer": "助教小姐姐",
           "questionAnalysis": "飒不需要理由",
           "courseId": 3,
           "questionType": "ask",
           "isRight": null,
           "studentsAnswer": null
         },
         {
           "question": "世界上最帅的人是谁？",
           "questionId": 17,
           "questionAnswer": "助教小哥哥",
           "questionAnalysis": "帅不需要理由",
           "courseId": 3,
           "questionType": "ask",
           "isRight": null,
           "studentsAnswer": null
         },
         {
           "question": "世界上最帅的人是谁？",
           "questionId": 18,
           "questionAnswer": "助教小哥哥",
           "questionAnalysis": "帅不需要理由",
           "courseId": 3,
           "questionType": "ask",
           "isRight": null,
           "studentsAnswer": null
         }
       ]
     }
     ```

- **测试编号 B000076**

  1. 测试：

     ```http
     POST http://localhost:8081/api/course-test/testCreate
     ```

  2. 输入：

     ```http
     Content-Type: application/json
     
     {
       "courseId": 4,
       "test": "ZZ测试",
       "startTime": "2021-07-22T20:37:30.000Z",
       "endTime": "2021-07-30T20:37:30.000Z"
     }
     ```

- **测试编号 B000077**

  1. 测试：

     ```http
     POST http://localhost:8081/api/course-test/testAddQuestion
     ```

  2. 输入：

     ```http
     Content-Type: application/json
     
     {
       "testId": 21,
       "questionIdList": [
         16,
         17,
         18
       ]
     }
     ```

  3. 输出：

     ```http
     {
       "code": 2001,
       "msg": "ok",
       "data": null
     }
     ```

- **测试编号 B000077**

  1. 测试：

     ```http
     GET http://localhost:8081/api/course-test/questionGet/test/21
     ```

  2. 输出：

     ```http
     {
       "code": 2001,
       "msg": "ok",
       "data": [
         {
           "question": "世界上最飒的人是谁？",
           "questionId": 16,
           "questionAnswer": "助教小姐姐",
           "questionAnalysis": "飒不需要理由",
           "courseId": 3,
           "questionType": "ask",
           "isRight": null,
           "studentsAnswer": null
         },
         {
           "question": "世界上最帅的人是谁？",
           "questionId": 17,
           "questionAnswer": "助教小哥哥",
           "questionAnalysis": "帅不需要理由",
           "courseId": 3,
           "questionType": "ask",
           "isRight": null,
           "studentsAnswer": null
         },
         {
           "question": "世界上最帅的人是谁？",
           "questionId": 18,
           "questionAnswer": "助教小哥哥",
           "questionAnalysis": "帅不需要理由",
           "courseId": 3,
           "questionType": "ask",
           "isRight": null,
           "studentsAnswer": null
         }
       ]
     }
     ```

- **测试编号 B000078**

  1. 测试：

     ```http
     GET http://localhost:8081/api/course-test/questionGet/test?testId=24&userId=5
     ```

  2. 输出：

     ```http
     ##{
       "code": 2001,
       "msg": "ok",
       "data": [
         {
           "question": "世界上最飒的人是谁？",
           "questionId": 16,
           "questionAnswer": null,
           "questionAnalysis": null,
           "courseId": 3,
           "questionType": "ask",
           "isRight": null,
           "studentsAnswer": null
         },
         {
           "question": "世界上最帅的人是谁？",
           "questionId": 17,
           "questionAnswer": null,
           "questionAnalysis": null,
           "courseId": 3,
           "questionType": "ask",
           "isRight": null,
           "studentsAnswer": null
         },
         {
           "question": "世界上最帅的人是谁？",
           "questionId": 18,
           "questionAnswer": null,
           "questionAnalysis": null,
           "courseId": 3,
           "questionType": "ask",
           "isRight": null,
           "studentsAnswer": null
         }
       ]
     }
     ```

- **测试编号 B000079**

  1. 测试：

     ```http
     POST http://localhost:8081/api/course-test/testDeleteQuestion
     ```

  2. 输入：

     ```http
     Content-Type: application/json
     
     {
       "testId": 21,
       "questionId": 17
     }
     ```

  3. 输出：

     ```http
     {
       "code": 2001,
       "msg": "ok",
       "data": null
     }
     ```

- **测试编号 B000080**

  1. 测试：

     ```http
     POST http://localhost:8081/api/course-test/testDelete
     ```

  2. 输入：

     ```http
     Content-Type: application/json
     
     {
       "testId": 23
     }
     ```

  3. 输出：

     ```http
     {
       "code": 2001,
       "msg": "ok",
       "data": null
     }
     ```

- **测试编号 B000081**

  1. 测试：

     ```http
     GET http://localhost:8081/api/course-test/testGet/teacher/4
     ```

  2. 输出：

     ```http
     {
       "code": 2001,
       "msg": "ok",
       "data": [
         {
           "testId": 24,
           "startTime": 1626537600000,
           "endTime": 1627228800000,
           "courseId": 3,
           "testName": "IQ测试",
           "testStatus": "toStart",
           "isFinished": null,
           "score": null
         },
         {
           "testId": 25,
           "startTime": 1626710400000,
           "endTime": 1627401600000,
           "courseId": 3,
           "testName": "IQ测试2",
           "testStatus": "toStart",
           "isFinished": null,
           "score": null
         },
         {
           "testId": 26,
           "startTime": 1626883200000,
           "endTime": 1627574400000,
           "courseId": 4,
           "testName": "ZZ测试",
           "testStatus": "toStart",
           "isFinished": null,
           "score": null
         }
       ]
     }
     ```

- **测试编号 B000082**

  1. 测试：

     ```http
     GET http://localhost:8081/api/course-test/testGet/course/3
     ```

  2. 输出：

     ```http
     {
       "code": 2001,
       "msg": "ok",
       "data": [
         {
           "testId": 24,
           "startTime": 1626710400000,
           "endTime": 1627401600000,
           "courseId": 3,
           "testName": "IQ测试",
           "testStatus": "toStart",
           "isFinished": null,
           "score": null
         },
         {
           "testId": 25,
           "startTime": 1626883200000,
           "endTime": 1627574400000,
           "courseId": 3,
           "testName": "IQ测试2",
           "testStatus": "toStart",
           "isFinished": null,
           "score": null
         }
       ]
     }
     ```

- **测试编号 B000083**

  1. 测试：

     ```http
     POST http://localhost:8081/api/course-test/testAnswerCommit
     ```

  2. 输入：

     ```http
     Content-Type: application/json
     
     {
       "testId": 24,
       "userId": 5,
       "questionIdAnswers":
         {
           "16": "助教小姐姐",
           "17": "助教小姐姐",
           "18": "助教小哥哥"
         }
     }
     ```

  3. 输出：

     ```http
     {
       "code": 2001,
       "msg": "ok",
       "data": {
         "testId": 24,
         "score": 66
       }
     }
     ```

- **测试编号 B000084**

  1. 测试：

     ```http
     POST http://localhost:8081/api/course-test/testAnswerCommit
     ```

  2. 输入：

     ```http
     Content-Type: application/json
     
     {
     "testId": 24,
     "userId": 5,
     "questionIdAnswers":
     {
     "16": "小姐姐",
     "17": "小姐姐",
     "18": "小哥哥"
     }
     }
     ```

  3. 输出：

     ```http
     {
       "code": 2001,
       "msg": "ok",
       "data": {
         "testId": 24,
         "score": 0
       }
     }
     ```

- **测试编号 B000085**

  1. 测试：

     ```http
     GET http://localhost:8081/api/course-test/testGet/course?courseId=3&userId=5
     ```

  2. 输出：

     ```http
     {
       "code": 2001,
       "msg": "ok",
       "data": [
         {
           "testId": 24,
           "startTime": 1626451200000,
           "endTime": 1627142400000,
           "courseId": 3,
           "testName": "IQ测试",
           "testStatus": "toStart",
           "isFinished": true,
           "score": 0
         },
         {
           "testId": 25,
           "startTime": 1626624000000,
           "endTime": 1627315200000,
           "courseId": 3,
           "testName": "IQ测试2",
           "testStatus": "toStart",
           "isFinished": false,
           "score": null
         }
       ]
     }
     ```

- **测试编号 B000086**

  1. 测试：

     ```http
     POST http://localhost:8081/api/post/create
     ```

  2. 输入：

     ```http
     Content-Type: application/json
     
     {
       "userId": 5,
       "courseId": 3,
       "title": "测试人员的自我修养",
       "postTime": "2021-07-10T00:40:00.000Z",
       "content": "1.学会熬夜"
     }
     ```

  3. 输出：

     ```http
     {
       "code": 1,
       "msg": "操作成功",
       "data": null
     }
     ```

- **测试编号 B000087**

  1. 测试：

     ```http
     GET http://localhost:8081/api/post/search/course/3/1/2
     ```

  2. 输出：

     ```http
     {
       "pageNum": 1,
       "pageSize": 2,
       "size": 2,
       "startRow": 1,
       "endRow": 2,
       "total": 3,
       "pages": 2,
       "list": [
         {
           "postId": 10,
           "courseId": 3,
           "userId": 5,
           "postTitle": "测试人员的自我修养",
           "postContent": "1.1.1学会熬夜",
           "postTime": "2021-07-15 07:40:00"
         },
         {
           "postId": 9,
           "courseId": 3,
           "userId": 5,
           "postTitle": "测试人员的自我修养",
           "postContent": "1.1学会熬夜",
           "postTime": "2021-07-10 14:02:00"
         }
       ],
       "prePage": 0,
       "nextPage": 2,
       "isFirstPage": true,
       "isLastPage": false,
       "hasPreviousPage": false,
       "hasNextPage": true,
       "navigatePages": 8,
       "navigatepageNums": [
         1,
         2
       ],
       "navigateFirstPage": 1,
       "navigateLastPage": 2,
       "lastPage": 2,
       "firstPage": 1
     }
     ```

- **测试编号 B000088**

  1. 测试：

     ```http
     POST http://localhost:8081/api/post/delete
     ```

  2. 输入：

     ```http
     Content-Type: application/json
     
     {
       "postId": 12
     }
     ```

  3. 输出：

     ```http
     {
       "code": 1,
       "msg": "操作成功",
       "data": null
     }
     ```

- **测试编号 B000089**

  1. 测试：

     ```http
     POST http://localhost:8081/api/post/reply/create
     ```

  2. 输入：

     ```http
     Content-Type: application/json
     
     {
       "postId": 13,
       "replyUserId": 4,
       "repliedUserId": 5,
       "replyContent": "2.学会使用工具",
       "replyTime": "2021-07-12T04:44:33.000Z"
     }
     ```

  3. 输出：

     ```http
     {
       "code": 1,
       "msg": "操作成功",
       "data": null
     }
     ```

- **测试编号 B000090**

  1. 测试：

     ```http
     POST http://localhost:8081/api/post/reply_reply/create
     ```

  2. 输入：

     ```http
     Content-Type: application/json
     
     {
       "replyUserId": 1,
       "repliedUserId": 2,
       "repliedId": 18,
       "replyContent": "5.遇到困难睡大觉",
       "replyTime": "2021-07-12T07:44:33.000Z"
     }
     ```

  3. 输出：

     ```http
     {
       "code": 1,
       "msg": "操作成功",
       "data": null
     }
     ```

- **测试编号 B000091**

  1. 测试：

     ```http
     POST http://localhost:8081/api/post/search/post/1/2?userId=1&postId=8
     ```

  2. 输出：

     ```http
     {
       "pageNum": 1,
       "pageSize": 2,
       "size": 2,
       "startRow": 1,
       "endRow": 2,
       "total": 4,
       "pages": 2,
       "list": [
         {
           "replyId": 10,
           "postId": 8,
           "replyUserId": 4,
           "repliedUserId": 0,
           "replyContent": "2.学会使用工具",
           "repliedId": 0,
           "replyTime": "2021-07-11 16:00:00",
           "status": 0,
           "newReplyNum": 0,
           "newReplyList": null
         },
         {
           "replyId": 11,
           "postId": 8,
           "replyUserId": 3,
           "repliedUserId": 0,
           "replyContent": "2.2学会使用工具",
           "repliedId": 0,
           "replyTime": "2021-07-11 16:00:00",
           "status": 0,
           "newReplyNum": 0,
           "newReplyList": null
         }
       ],
       "prePage": 0,
       "nextPage": 2,
       "isFirstPage": true,
       "isLastPage": false,
       "hasPreviousPage": false,
       "hasNextPage": true,
       "navigatePages": 8,
       "navigatepageNums": [
         1,
         2
       ],
       "navigateFirstPage": 1,
       "navigateLastPage": 2,
       "firstPage": 1,
       "lastPage": 2
     }
     ```

- **测试编号 B000092**

  1. 测试：

     ```http
     POST http://localhost:8081/api/post/search/post/1/2?userId=5&postId=8
     ```

  2. 输出：

     ```http
     {
       "pageNum": 1,
       "pageSize": 2,
       "size": 2,
       "startRow": 1,
       "endRow": 2,
       "total": 4,
       "pages": 2,
       "list": [
         {
           "replyId": 10,
           "postId": 8,
           "replyUserId": 4,
           "repliedUserId": 0,
           "replyContent": "2.学会使用工具",
           "repliedId": 0,
           "replyTime": "2021-07-11 16:00:00",
           "status": 0,
           "newReplyNum": 0,
           "newReplyList": null
         },
         {
           "replyId": 11,
           "postId": 8,
           "replyUserId": 3,
           "repliedUserId": 0,
           "replyContent": "2.2学会使用工具",
           "repliedId": 0,
           "replyTime": "2021-07-11 16:00:00",
           "status": 0,
           "newReplyNum": 0,
           "newReplyList": null
         }
       ],
       "prePage": 0,
       "nextPage": 2,
       "isFirstPage": true,
       "isLastPage": false,
       "hasPreviousPage": false,
       "hasNextPage": true,
       "navigatePages": 8,
       "navigatepageNums": [
         1,
         2
       ],
       "navigateFirstPage": 1,
       "navigateLastPage": 2,
       "firstPage": 1,
       "lastPage": 2
     }
     
     ```

- **测试编号 B000093**

  1. 测试：

     ```http
     POST http://localhost:8081/api/post/search/reply/1/2?userId=1&repliedId=10
     ```

  2. 输出：

     ```http
     {
       "pageNum": 1,
       "pageSize": 2,
       "size": 2,
       "startRow": 1,
       "endRow": 2,
       "total": 3,
       "pages": 2,
       "list": [
         {
           "replyId": 14,
           "postId": null,
           "replyUserId": 1,
           "repliedUserId": 4,
           "replyContent": "3.学会debug",
           "repliedId": 10,
           "replyTime": "2021-07-11 16:00:00",
           "status": 0,
           "newReplyNum": null,
           "newReplyList": null
         },
         {
           "replyId": 15,
           "postId": null,
           "replyUserId": 2,
           "repliedUserId": 4,
           "replyContent": "3.3.学会debug",
           "repliedId": 10,
           "replyTime": "2021-07-11 16:00:00",
           "status": 0,
           "newReplyNum": null,
           "newReplyList": null
         }
       ],
       "prePage": 0,
       "nextPage": 2,
       "isFirstPage": true,
       "isLastPage": false,
       "hasPreviousPage": false,
       "hasNextPage": true,
       "navigatePages": 8,
       "navigatepageNums": [
         1,
         2
       ],
       "navigateFirstPage": 1,
       "navigateLastPage": 2,
       "firstPage": 1,
       "lastPage": 2
     }
     
     ```

- **测试编号 B000094**

  1. 测试：

     ```http
     POST http://localhost:8081/api/post/search/reply/1/3?userId=3&repliedId=16
     ```

  2. 输出：

     ```http
     {
       "pageNum": 1,
       "pageSize": 3,
       "size": 2,
       "startRow": 1,
       "endRow": 2,
       "total": 2,
       "pages": 1,
       "list": [
         {
           "replyId": 17,
           "postId": null,
           "replyUserId": 1,
           "repliedUserId": 3,
           "replyContent": "4.学会放弃",
           "repliedId": 16,
           "replyTime": "2021-07-11 16:00:00",
           "status": 0,
           "newReplyNum": null,
           "newReplyList": null
         },
         {
           "replyId": 18,
           "postId": null,
           "replyUserId": 2,
           "repliedUserId": 3,
           "replyContent": "4.4.学会放弃",
           "repliedId": 16,
           "replyTime": "2021-07-11 16:00:00",
           "status": 0,
           "newReplyNum": null,
           "newReplyList": null
         }
       ],
       "prePage": 0,
       "nextPage": 0,
       "isFirstPage": true,
       "isLastPage": true,
       "hasPreviousPage": false,
       "hasNextPage": false,
       "navigatePages": 8,
       "navigatepageNums": [
         1
       ],
       "navigateFirstPage": 1,
       "navigateLastPage": 1,
       "lastPage": 1,
       "firstPage": 1
     }
     ```

- **测试编号 B000095**

  1. 测试：

     ```http
     GET http://localhost:8081/api/post/search/userPost/1/5?userId=5
     ```

  2. 输出：

     ```http
     ##{
       "pageNum": 1,
       "pageSize": 5,
       "size": 5,
       "startRow": 1,
       "endRow": 5,
       "total": 5,
       "pages": 1,
       "list": [
         {
           "postId": 8,
           "courseId": 3,
           "userId": 5,
           "postTitle": "测试人员的自我修养",
           "postContent": "1.学会熬夜",
           "postTime": "2021-07-10 00:40:00",
           "newReplyNum": 2,
           "newReplyList": [
             12,
             13
           ]
         },
         {
           "postId": 9,
           "courseId": 3,
           "userId": 5,
           "postTitle": "测试人员的自我修养",
           "postContent": "1.1学会熬夜",
           "postTime": "2021-07-10 06:02:00",
           "newReplyNum": 0,
           "newReplyList": []
         },
         {
           "postId": 10,
           "courseId": 3,
           "userId": 5,
           "postTitle": "测试人员的自我修养",
           "postContent": "1.1.1学会熬夜",
           "postTime": "2021-07-14 23:40:00",
           "newReplyNum": 0,
           "newReplyList": []
         },
         {
           "postId": 11,
           "courseId": 3,
           "userId": 5,
           "postTitle": "测试人员的自我修养",
           "postContent": "2.学会熬夜",
           "postTime": "2021-07-10 00:40:00",
           "newReplyNum": 0,
           "newReplyList": []
         },
         {
           "postId": 13,
           "courseId": 3,
           "userId": 5,
           "postTitle": "测试人员的自我修养",
           "postContent": "3.学会熬夜",
           "postTime": "2021-07-10 00:40:00",
           "newReplyNum": 0,
           "newReplyList": []
         }
       ],
       "prePage": 0,
       "nextPage": 0,
       "isFirstPage": true,
       "isLastPage": true,
       "hasPreviousPage": false,
       "hasNextPage": false,
       "navigatePages": 8,
       "navigatepageNums": [
         1
       ],
       "navigateFirstPage": 1,
       "navigateLastPage": 1,
       "lastPage": 1,
       "firstPage": 1
     }
     
     ```

- **测试编号 B000096**

  1. 测试：

     ```http
     GET http://localhost:8081/api/post/search/userReply/1/5?userId=4
     ```

  2. 输出：

     ```http
     ##{
       "pageNum": 1,
       "pageSize": 5,
       "size": 1,
       "startRow": 1,
       "endRow": 1,
       "total": 1,
       "pages": 1,
       "list": [
         {
           "replyId": 10,
           "postId": 8,
           "replyUserId": 4,
           "repliedUserId": 0,
           "replyContent": "2.学会使用工具",
           "repliedId": null,
           "replyTime": "2021-07-11 16:00:00",
           "status": 1,
           "newReplyNum": 3,
           "newReplyList": [
             14,
             15,
             16
           ]
         }
       ],
       "prePage": 0,
       "nextPage": 0,
       "isFirstPage": true,
       "isLastPage": true,
       "hasPreviousPage": false,
       "hasNextPage": false,
       "navigatePages": 8,
       "navigatepageNums": [
         1
       ],
       "navigateFirstPage": 1,
       "navigateLastPage": 1,
       "lastPage": 1,
       "firstPage": 1
     }
     ```

- **测试编号 B000097**

  1. 测试：

     ```http
     POST http://localhost:8081/api/post/search/newReply/1/2?replyIdList=14,15,16
     ```

  2. 输出：

     ```http
     {
       "pageNum": 1,
       "pageSize": 2,
       "size": 2,
       "startRow": 0,
       "endRow": 2,
       "total": 3,
       "pages": 2,
       "list": [
         {
           "replyId": 14,
           "postId": null,
           "replyUserId": 1,
           "repliedUserId": 4,
           "replyContent": "3.学会debug",
           "repliedId": 10,
           "replyTime": "2021-07-11 16:00:00",
           "status": 0,
           "newReplyNum": null,
           "newReplyList": null
         },
         {
           "replyId": 15,
           "postId": null,
           "replyUserId": 2,
           "repliedUserId": 4,
           "replyContent": "3.3.学会debug",
           "repliedId": 10,
           "replyTime": "2021-07-11 16:00:00",
           "status": 0,
           "newReplyNum": null,
           "newReplyList": null
         }
       ],
       "prePage": 0,
       "nextPage": 2,
       "isFirstPage": true,
       "isLastPage": false,
       "hasPreviousPage": false,
       "hasNextPage": true,
       "navigatePages": 8,
       "navigatepageNums": [
         1,
         0
       ],
       "navigateFirstPage": 1,
       "navigateLastPage": 2,
       "lastPage": 2,
       "firstPage": 1
     }
     ```

- **测试编号 B000098**

  1. 测试：

     ```http
     POST http://localhost:8081/api/vip/get
     ```

  2. 输入：

     ```http
     Content-Type: application/json
     
     {
       "userId": 3,
       "type": "week"
     }
     ```

  3. 输出：

     ```http
     {
       "code": 6004,
       "msg": "don't have enough money",
       "data": null
     }
     ```

- **测试编号 B000099**

  1. 测试：

     ```http
     POST http://localhost:8081/api/vip/get
     ```

  2. 输入：

     ```http
     Content-Type: application/json
     
     {
       "userId": 4,
       "type": "week"
     }
     ```

  3. 输出：

     ```http
     {
       "code": 2001,
       "msg": "ok",
       "data": {
         "cost": 100,
         "endTime": 1631808000000,
         "type": "week",
         "balance": 99900
       }
     }
     ```

- **测试编号 B000100**

  1. 测试：

     ```http
     POST http://localhost:8081/api/vip/get
     ```

  2. 输入：

     ```http
     Content-Type: application/json
     
     {
     "userId": 5,
     "type": "week"
     }
     ```

  3. 输出：

     ```http
     {
       "code": 2001,
       "msg": "ok",
       "data": {
         "cost": 100,
         "endTime": 1626427006934,
         "type": "week",
         "balance": 99900
       }
     }
     ```

- **测试编号 B000101**

  1. 测试：

     ```http
     GET http://localhost:8081/api/vip/price
     ```

  2. 输出：

     ```http
     {
       "code": 2001,
       "msg": "ok",
       "data": [
         {
           "money": 100,
           "time": 7,
           "type": "week"
         },
         {
           "money": 400,
           "time": 30,
           "type": "month"
         },
         {
           "money": 1000,
           "time": 90,
           "type": "season"
         },
         {
           "money": 3600,
           "time": 365,
           "type": "year"
         }
       ]
     }
     
     ```



